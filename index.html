<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Google Search Console Chiqanchawi Chimpuyu -->
    <meta name="google-site-verification" content="IH50WTRSJSWWC5nlEKyXMWr1MMBVKpfKWQPrJA-4hFs" />
    
    <!-- FAVICON (Navegador Tab Unancha) -->
    <link rel="icon" type="image/png" href="logo.png">
    
    <title>Kalhara Development | High-End IT Solutions</title>
    
    <!-- Tailwind CSS llamk'aspa -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- FontAwesome llamk'aspa -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        techBlue: '#00f2ff',
                        techPurple: '#bc13fe',
                        techPink: '#ff0055',
                        techDark: '#050505',
                        techCard: 'rgba(22, 22, 22, 0.7)'
                    },
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                    },
                    animation: {
                        'blob': 'blob 7s infinite',
                        'float': 'float 6s ease-in-out infinite',
                        'bounce-slow': 'bounce 3s infinite',
                        'pulse-fast': 'pulse 1s cubic-bezier(0.4, 0, 0.6, 1) infinite',
                    },
                    keyframes: {
                        blob: {
                            '0%': { transform: 'translate(0px, 0px) scale(1)' },
                            '33%': { transform: 'translate(30px, -50px) scale(1.1)' },
                            '66%': { transform: 'translate(-20px, 20px) scale(0.9)' },
                            '100%': { transform: 'translate(0px, 0px) scale(1)' },
                        },
                        float: {
                            '0%, 100%': { transform: 'translateY(0)' },
                            '50%': { transform: 'translateY(-20px)' },
                        }
                    }
                }
            }
        }
    </script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800&display=swap');
        
        body {
            font-family: 'Inter', sans-serif;
            background-color: #050505;
            color: #ffffff;
            overflow-x: hidden;
        }

        /* --- Kuyuykuna --- */
        .reveal {
            opacity: 0;
            transform: translateY(50px);
            transition: all 1s cubic-bezier(0.5, 0, 0, 1);
        }
        .reveal.active {
            opacity: 1;
            transform: translateY(0);
        }

        /* Orbs Qhipa */
        .orb-1, .orb-2, .orb-3 {
            position: fixed;
            border-radius: 50%;
            filter: blur(80px);
            z-index: -1;
            opacity: 0.4;
            animation: blob 10s infinite alternate;
        }
        .orb-1 { top: -10%; left: -10%; width: 500px; height: 500px; background: #7000ff; }
        .orb-2 { top: 20%; right: -20%; width: 400px; height: 400px; background: #00f2ff; animation-delay: 2s; }
        .orb-3 { bottom: -10%; left: 20%; width: 600px; height: 600px; background: #ff0055; animation-delay: 4s; }

        /* Kuyuchina Allichaykuna */
        @media (max-width: 768px) {
            .orb-1, .orb-2, .orb-3 {
                filter: blur(50px);
                animation: none; /* Kuyuyta sayachiy kuyuchinapi GPU/Bateria waqaychanapaq */
                opacity: 0.2;
            }
        }

        .neon-text {
            text-shadow: 0 0 10px rgba(188, 19, 254, 0.7), 0 0 20px rgba(0, 242, 255, 0.5);
        }

        /* Q'ispi Tarjeta Kuyuchinapaq Allichasqa */
        .glass-card {
            background: rgba(20, 20, 20, 0.85);
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: transform 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275), box-shadow 0.4s ease, border-color 0.4s ease;
        }
        
        @media (min-width: 768px) {
            .glass-card {
                background: rgba(20, 20, 20, 0.6);
                backdrop-filter: blur(10px);
                -webkit-backdrop-filter: blur(10px);
            }
            .glass-card:hover {
                transform: translateY(-10px) scale(1.03);
                border-color: #00f2ff;
                box-shadow: 0 10px 40px -10px rgba(0, 242, 255, 0.3), inset 0 0 20px rgba(0, 242, 255, 0.05);
            }
        }

        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #0a0a0a; }
        ::-webkit-scrollbar-thumb { background: linear-gradient(to bottom, #00f2ff, #bc13fe); border-radius: 4px; }

        .typing-cursor::after {
            content: '|';
            animation: blink 1s step-end infinite;
        }
        @keyframes blink { 50% { opacity: 0; } }

        .btn-glow {
            position: relative;
            z-index: 1;
            overflow: hidden;
            transition: 0.3s;
        }
        .btn-glow::before {
            content: '';
            position: absolute;
            top: 0; left: -100%;
            width: 100%; height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: 0.5s;
        }
        .btn-glow:hover::before { left: 100%; }
        .btn-glow:hover {
            box-shadow: 0 0 20px rgba(0, 242, 255, 0.6);
            transform: scale(1.05);
        }

        .faq-answer {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.4s cubic-bezier(0, 1, 0, 1);
        }
        .faq-item.active .faq-answer {
            max-height: 1000px;
            transition: max-height 0.4s ease-in-out;
        }
        .faq-item.active i.fa-chevron-down { transform: rotate(180deg); }
        .faq-item.active { border-color: #bc13fe; background: rgba(188, 19, 254, 0.1); }

        /* PC Sapallan Ruwasqa Grid Qhipa */
        .pc-grid-bg {
            background-image: linear-gradient(to right, rgba(255, 255, 255, 0.05) 1px, transparent 1px),
                              linear-gradient(to bottom, rgba(255, 255, 255, 0.05) 1px, transparent 1px);
            background-size: 40px 40px;
            mask-image: radial-gradient(ellipse at center, black 40%, transparent 80%);
            -webkit-mask-image: radial-gradient(ellipse at center, black 40%, transparent 80%);
        }

        /* --- Advanced AI Chatbot Styles --- */
        .chat-progress-bar {
            transition: width 0.1s linear;
        }
        .typing-indicator {
            display: flex;
            align-items: center;
            gap: 4px;
            padding: 4px 8px;
        }
        .typing-dot {
            width: 6px;
            height: 6px;
            background-color: #00f2ff;
            border-radius: 50%;
            animation: typingBounce 1.4s infinite ease-in-out both;
        }
        .typing-dot:nth-child(1) { animation-delay: -0.32s; }
        .typing-dot:nth-child(2) { animation-delay: -0.16s; }
        @keyframes typingBounce {
            0%, 80%, 100% { transform: scale(0); opacity: 0.5;}
            40% { transform: scale(1); opacity: 1;}
        }
        .chat-action-btn {
            background: rgba(0, 242, 255, 0.1);
            border: 1px solid rgba(0, 242, 255, 0.3);
            color: #00f2ff;
            padding: 6px 12px;
            border-radius: 6px;
            font-size: 12px;
            margin-top: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 6px;
            font-weight: 600;
        }
        .chat-action-btn:hover {
            background: #00f2ff;
            color: #000;
            box-shadow: 0 0 15px rgba(0,242,255,0.4);
        }

        /* --- Memory Game Styles --- */
        .memory-card {
            aspect-ratio: 1;
            background: rgba(255,255,255,0.05);
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 28px;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            box-shadow: inset 0 0 10px rgba(0,0,0,0.5);
            transform-style: preserve-3d;
        }
        .memory-card:hover {
            background: rgba(255,255,255,0.1);
        }
        .memory-card.flipped {
            background: rgba(188, 19, 254, 0.2);
            border-color: #bc13fe;
            transform: rotateY(180deg);
            box-shadow: 0 0 15px rgba(188, 19, 254, 0.3);
        }
        .memory-card.matched {
            background: rgba(0, 242, 255, 0.2);
            border-color: #00f2ff;
            opacity: 0.8;
            cursor: default;
            animation: pulse-fast 1s;
        }
        .memory-card i {
            opacity: 0;
            transition: opacity 0.2s ease-in-out;
            transform: rotateY(180deg); /* Counter the card flip */
        }
        .memory-card.flipped i, .memory-card.matched i {
            opacity: 1;
        }
    </style>
</head>
<body class="bg-techDark text-white selection:bg-techPink selection:text-white relative">

    <!-- Qhipa Orbs -->
    <div class="orb-1"></div>
    <div class="orb-2"></div>
    <div class="orb-3"></div>

    <!-- Wamp'uy -->
    <nav class="fixed w-full z-50 bg-black/70 backdrop-blur-xl border-b border-white/10 transition-all duration-300" id="navbar">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-20">
                <div class="flex-shrink-0 cursor-pointer group flex items-center gap-3">
                    <!-- UNANCHA RIKCHA -->
                    <img src="logo.png" alt="KD" class="h-10 w-10 rounded-full border-2 border-techBlue object-cover shadow-[0_0_10px_rgba(0,242,255,0.5)]" onerror="this.style.display='none'">
                    
                    <span class="text-2xl font-black tracking-wider text-white group-hover:text-transparent group-hover:bg-clip-text group-hover:bg-gradient-to-r group-hover:from-techBlue group-hover:to-techPurple transition-all duration-300">
                        KALHARA <span class="text-transparent bg-clip-text bg-gradient-to-r from-techBlue to-techPurple">DEV</span>
                    </span>
                </div>
                <div class="hidden md:block">
                    <div class="ml-10 flex items-baseline space-x-6">
                        <a href="#home" class="text-gray-300 hover:text-techBlue font-medium transition-colors relative group">
                            Home <span class="absolute -bottom-1 left-0 w-0 h-0.5 bg-techBlue transition-all group-hover:w-full"></span>
                        </a>
                        <a href="#services" class="text-gray-300 hover:text-techPurple font-medium transition-colors relative group">
                            Services <span class="absolute -bottom-1 left-0 w-0 h-0.5 bg-techPurple transition-all group-hover:w-full"></span>
                        </a>
                        <a href="#learn" class="text-gray-300 hover:text-green-400 font-medium transition-colors relative group">
                            Learn Tech <span class="absolute -bottom-1 left-0 w-0 h-0.5 bg-green-400 transition-all group-hover:w-full"></span>
                        </a>
                        <a href="#troubleshoot" class="text-gray-300 hover:text-techPink font-medium transition-colors relative group">
                            Troubleshoot <span class="absolute -bottom-1 left-0 w-0 h-0.5 bg-techPink transition-all group-hover:w-full"></span>
                        </a>
                        <a href="#funzone" class="text-gray-300 hover:text-yellow-400 font-medium transition-colors relative group">
                            Fun Zone <span class="absolute -bottom-1 left-0 w-0 h-0.5 bg-yellow-400 transition-all group-hover:w-full"></span>
                        </a>
                        <a href="#about" class="text-gray-300 hover:text-white font-medium transition-colors">About</a>
                        <a href="#contact" class="btn-glow bg-gradient-to-r from-techBlue to-techPurple text-black px-6 py-2.5 rounded-full font-bold text-sm shadow-lg shadow-purple-500/20">
                            Contact Me
                        </a>
                    </div>
                </div>
                <div class="-mr-2 flex md:hidden">
                    <button onclick="toggleMenu()" class="text-gray-300 hover:text-white focus:outline-none p-2">
                        <i class="fas fa-bars text-2xl"></i>
                    </button>
                </div>
            </div>
        </div>
        <!-- Kuyuchina Menú -->
        <div id="mobile-menu" class="hidden md:hidden bg-black/95 backdrop-blur-xl border-t border-gray-800 absolute w-full">
            <div class="px-4 pt-4 pb-6 space-y-2">
                <a href="#home" class="block px-3 py-3 rounded-md text-base font-medium hover:bg-white/10 text-white">Home</a>
                <a href="#services" class="block px-3 py-3 rounded-md text-base font-medium hover:bg-white/10 text-white">Services</a>
                <a href="#learn" class="block px-3 py-3 rounded-md text-base font-medium hover:bg-white/10 text-white">Learn Tech</a>
                <a href="#troubleshoot" class="block px-3 py-3 rounded-md text-base font-medium hover:bg-white/10 text-white">Troubleshoot</a>
                <a href="#funzone" class="block px-3 py-3 rounded-md text-base font-medium hover:bg-white/10 text-white">Fun Zone</a>
                <a href="#contact" class="block px-3 py-3 mt-4 text-center rounded-md font-bold bg-gradient-to-r from-techBlue to-techPurple text-black">Contact Me</a>
            </div>
        </div>
    </nav>

    <!-- Hero T'aqa -->
    <section id="home" class="min-h-screen flex items-center justify-center pt-20 px-4 relative overflow-hidden">
        <!-- PC Sapallan Alta Tecnología Grid -->
        <div class="hidden md:block absolute inset-0 pc-grid-bg z-0 pointer-events-none"></div>

        <div class="text-center z-10 max-w-5xl mx-auto">
            <div class="reveal active inline-flex items-center gap-2 px-4 py-2 mb-6 rounded-full border border-techPurple/50 bg-techPurple/10 text-techBlue text-sm font-bold uppercase tracking-widest animate-pulse">
                <span class="w-2 h-2 rounded-full bg-techBlue"></span>
                Full Stack IT Solutions
            </div>
            
            <h1 class="reveal active delay-100 text-6xl md:text-8xl font-black text-white mb-6 leading-tight tracking-tight drop-shadow-2xl">
                MASTERING <br>
                <span class="text-transparent bg-clip-text bg-gradient-to-r from-techBlue via-techPurple to-techPink neon-text typing-cursor" id="typing-text">HARDWARE & CODE</span>
            </h1>
            
            <p class="reveal active delay-200 mt-4 max-w-2xl mx-auto text-xl md:text-2xl text-gray-300 font-light leading-relaxed">
                Experience the perfect fusion of precision hardware repair and next-gen software development.
            </p>
            
            <div class="reveal active delay-300 mt-12 flex flex-col sm:flex-row justify-center gap-6">
                <a href="#services" class="btn-glow px-10 py-4 rounded-full bg-white text-black font-extrabold text-lg transition-all hover:bg-gray-200 shadow-[0_0_20px_rgba(255,255,255,0.3)]">
                    Explore Services <i class="fas fa-arrow-right ml-2 text-techPurple"></i>
                </a>
                <a href="#troubleshoot" class="px-10 py-4 rounded-full border border-gray-500 hover:border-techBlue hover:text-techBlue hover:bg-techBlue/10 text-white font-bold text-lg transition-all backdrop-blur-sm">
                    Fix a Problem
                </a>
            </div>

            <div class="absolute bottom-10 left-1/2 transform -translate-x-1/2 animate-bounce text-gray-500">
                <i class="fas fa-chevron-down text-2xl"></i>
            </div>
        </div>
    </section>

    <!-- Yanapakuykuna T'aqa -->
    <section id="services" class="py-24 relative">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10">
            <div class="text-center mb-20 reveal">
                <h2 class="text-4xl md:text-5xl font-bold text-white mb-4">Elite <span class="text-transparent bg-clip-text bg-gradient-to-r from-techBlue to-techPurple">Services</span></h2>
                <div class="w-24 h-1 bg-gradient-to-r from-techBlue to-techPurple mx-auto rounded-full"></div>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 md:gap-8">
                <!-- Hardware -->
                <div class="glass-card p-6 md:p-8 rounded-2xl relative group reveal flex flex-col">
                    <div class="w-14 h-14 md:w-16 md:h-16 bg-gradient-to-br from-techBlue to-blue-600 rounded-xl flex items-center justify-center mb-4 md:mb-6 shadow-lg shadow-blue-500/30 group-hover:scale-110 transition-transform">
                        <i class="fas fa-microchip text-2xl md:text-3xl text-white"></i>
                    </div>
                    <h3 class="text-xl md:text-2xl font-bold text-white mb-2 md:mb-3 group-hover:text-techBlue transition-colors">Hardware Repair</h3>
                    <p class="text-sm md:text-base text-gray-400 mb-0 md:mb-6 line-clamp-2 md:line-clamp-none flex-grow">Chip-level diagnostics and repair for motherboards, power units, and intricate circuitry.</p>
                    <ul class="hidden md:block text-sm text-gray-400 space-y-2 mb-4">
                        <li class="flex items-center"><i class="fas fa-check-circle text-techBlue mr-2"></i> Motherboard Recovery</li>
                        <li class="flex items-center"><i class="fas fa-check-circle text-techBlue mr-2"></i> Power Supply Fixing</li>
                    </ul>
                    <div class="mt-auto opacity-0 group-hover:opacity-100 transition-opacity duration-300 hidden md:block">
                        <span class="text-techBlue text-sm font-semibold cursor-pointer">Request Repair <i class="fas fa-arrow-right ml-1 transform group-hover:translate-x-1 transition-transform"></i></span>
                    </div>
                </div>

                <!-- Web Wiñachi -->
                <div class="glass-card p-6 md:p-8 rounded-2xl relative group reveal delay-100 flex flex-col">
                    <div class="w-14 h-14 md:w-16 md:h-16 bg-gradient-to-br from-techPurple to-pink-600 rounded-xl flex items-center justify-center mb-4 md:mb-6 shadow-lg shadow-purple-500/30 group-hover:scale-110 transition-transform">
                        <i class="fas fa-code text-2xl md:text-3xl text-white"></i>
                    </div>
                    <h3 class="text-xl md:text-2xl font-bold text-white mb-2 md:mb-3 group-hover:text-techPurple transition-colors">Web Development</h3>
                    <p class="text-sm md:text-base text-gray-400 mb-0 md:mb-6 line-clamp-2 md:line-clamp-none flex-grow">Stunning, high-performance websites tailored to elevate your digital presence.</p>
                    <ul class="hidden md:block text-sm text-gray-400 space-y-2 mb-4">
                        <li class="flex items-center"><i class="fas fa-check-circle text-techPurple mr-2"></i> Responsive Design</li>
                        <li class="flex items-center"><i class="fas fa-check-circle text-techPurple mr-2"></i> E-Commerce Ready</li>
                    </ul>
                    <div class="mt-auto opacity-0 group-hover:opacity-100 transition-opacity duration-300 hidden md:block">
                        <span class="text-techPurple text-sm font-semibold cursor-pointer">Build a Site <i class="fas fa-arrow-right ml-1 transform group-hover:translate-x-1 transition-transform"></i></span>
                    </div>
                </div>

                <!-- Software Wiñachi -->
                <div class="glass-card p-6 md:p-8 rounded-2xl relative group reveal delay-200 flex flex-col">
                    <div class="w-14 h-14 md:w-16 md:h-16 bg-gradient-to-br from-green-400 to-emerald-600 rounded-xl flex items-center justify-center mb-4 md:mb-6 shadow-lg shadow-green-500/30 group-hover:scale-110 transition-transform">
                        <i class="fas fa-terminal text-2xl md:text-3xl text-white"></i>
                    </div>
                    <h3 class="text-xl md:text-2xl font-bold text-white mb-2 md:mb-3 group-hover:text-green-400 transition-colors">Software Solutions</h3>
                    <p class="text-sm md:text-base text-gray-400 mb-0 md:mb-6 line-clamp-2 md:line-clamp-none flex-grow">Custom-built software for POS, inventory management, and business automation.</p>
                    <ul class="hidden md:block text-sm text-gray-400 space-y-2 mb-4">
                        <li class="flex items-center"><i class="fas fa-check-circle text-green-400 mr-2"></i> Custom POS Systems</li>
                        <li class="flex items-center"><i class="fas fa-check-circle text-green-400 mr-2"></i> Inventory Tools</li>
                    </ul>
                    <div class="mt-auto opacity-0 group-hover:opacity-100 transition-opacity duration-300 hidden md:block">
                        <span class="text-green-400 text-sm font-semibold cursor-pointer">Get Software <i class="fas fa-arrow-right ml-1 transform group-hover:translate-x-1 transition-transform"></i></span>
                    </div>
                </div>

                <!-- Llikakuna -->
                <div class="glass-card p-6 md:p-8 rounded-2xl relative group reveal flex flex-col">
                    <div class="w-14 h-14 md:w-16 md:h-16 bg-gradient-to-br from-orange-400 to-red-600 rounded-xl flex items-center justify-center mb-4 md:mb-6 shadow-lg shadow-orange-500/30 group-hover:scale-110 transition-transform">
                        <i class="fas fa-network-wired text-2xl md:text-3xl text-white"></i>
                    </div>
                    <h3 class="text-xl md:text-2xl font-bold text-white mb-2 md:mb-3 group-hover:text-orange-400 transition-colors">System & Network</h3>
                    <p class="text-sm md:text-base text-gray-400 mb-0 md:mb-6 line-clamp-2 md:line-clamp-none flex-grow">Robust network infrastructure, server management, and CCTV security installations.</p>
                    <ul class="hidden md:block text-sm text-gray-400 space-y-2 mb-4">
                        <li class="flex items-center"><i class="fas fa-check-circle text-orange-400 mr-2"></i> Server Setup</li>
                        <li class="flex items-center"><i class="fas fa-check-circle text-orange-400 mr-2"></i> CCTV Configuration</li>
                    </ul>
                    <div class="mt-auto opacity-0 group-hover:opacity-100 transition-opacity duration-300 hidden md:block">
                        <span class="text-orange-400 text-sm font-semibold cursor-pointer">Setup Network <i class="fas fa-arrow-right ml-1 transform group-hover:translate-x-1 transition-transform"></i></span>
                    </div>
                </div>

                <!-- OS & Formato -->
                <div class="glass-card p-6 md:p-8 rounded-2xl relative group reveal delay-100 flex flex-col">
                    <div class="w-14 h-14 md:w-16 md:h-16 bg-gradient-to-br from-blue-400 to-indigo-600 rounded-xl flex items-center justify-center mb-4 md:mb-6 shadow-lg shadow-blue-500/30 group-hover:scale-110 transition-transform">
                        <i class="fab fa-windows text-2xl md:text-3xl text-white"></i>
                    </div>
                    <h3 class="text-xl md:text-2xl font-bold text-white mb-2 md:mb-3 group-hover:text-blue-400 transition-colors">OS & Formatting</h3>
                    <p class="text-sm md:text-base text-gray-400 mb-0 md:mb-6 line-clamp-2 md:line-clamp-none flex-grow">Complete OS installation (Windows/Linux/Mac) with driver optimization.</p>
                    <ul class="hidden md:block text-sm text-gray-400 space-y-2 mb-4">
                        <li class="flex items-center"><i class="fas fa-check-circle text-blue-400 mr-2"></i> Clean Installation</li>
                        <li class="flex items-center"><i class="fas fa-check-circle text-blue-400 mr-2"></i> Virus Cleanup</li>
                    </ul>
                    <div class="mt-auto opacity-0 group-hover:opacity-100 transition-opacity duration-300 hidden md:block">
                        <span class="text-blue-400 text-sm font-semibold cursor-pointer">Format PC <i class="fas fa-arrow-right ml-1 transform group-hover:translate-x-1 transition-transform"></i></span>
                    </div>
                </div>

                <!-- Willaykuna Kutichiy -->
                <div class="glass-card p-6 md:p-8 rounded-2xl relative group reveal delay-200 flex flex-col">
                    <div class="w-14 h-14 md:w-16 md:h-16 bg-gradient-to-br from-red-500 to-rose-700 rounded-xl flex items-center justify-center mb-4 md:mb-6 shadow-lg shadow-red-500/30 group-hover:scale-110 transition-transform">
                        <i class="fas fa-database text-2xl md:text-3xl text-white"></i>
                    </div>
                    <h3 class="text-xl md:text-2xl font-bold text-white mb-2 md:mb-3 group-hover:text-red-500 transition-colors">Data Recovery</h3>
                    <p class="text-sm md:text-base text-gray-400 mb-0 md:mb-6 line-clamp-2 md:line-clamp-none flex-grow">Advanced recovery techniques for lost data from damaged storage devices.</p>
                    <ul class="hidden md:block text-sm text-gray-400 space-y-2 mb-4">
                        <li class="flex items-center"><i class="fas fa-check-circle text-red-500 mr-2"></i> Hard Drive Recovery</li>
                        <li class="flex items-center"><i class="fas fa-check-circle text-red-500 mr-2"></i> Deleted File Restore</li>
                    </ul>
                    <div class="mt-auto opacity-0 group-hover:opacity-100 transition-opacity duration-300 hidden md:block">
                        <span class="text-red-500 text-sm font-semibold cursor-pointer">Recover Data <i class="fas fa-arrow-right ml-1 transform group-hover:translate-x-1 transition-transform"></i></span>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- YACHAY TECH T'AQA (BLOG / QILLQASQAKUNA) -->
    <section id="learn" class="py-24 relative bg-black/50 backdrop-blur-sm border-t border-white/5">
        <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10">
            <div class="text-center mb-16 reveal">
                <span class="text-green-400 font-bold tracking-widest uppercase text-sm">Knowledge Hub</span>
                <h2 class="text-4xl font-bold text-white mt-2">Learn <span class="text-transparent bg-clip-text bg-gradient-to-r from-green-400 to-techBlue">Technology</span></h2>
                <p class="text-gray-400 mt-4 max-w-2xl mx-auto">සරල සිංහලෙන් තාක්ෂණය ඉගෙන ගන්න. (විස්තරාත්මක ලිපි 20+)</p>
            </div>

            <!-- Willakuy K'iti (Pata) -->
            <div class="w-full h-24 bg-gray-900/50 border border-gray-800 border-dashed rounded-xl mb-12 flex items-center justify-center text-gray-600 text-sm reveal">
                <p>Google AdSense Banner Area (This earns you money)</p>
            </div>

            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 md:gap-12">
                
                <!-- Qillqasqa 1: Ima Software? -->
                <div class="glass-card p-6 md:p-8 rounded-2xl reveal group hover:border-green-500/50 transition-all flex flex-col">
                    <div class="flex gap-3 mb-4 hidden md:flex">
                        <span class="bg-gray-800/50 text-green-400 border border-green-500/20 text-xs px-3 py-1 rounded-full"><i class="far fa-clock mr-1"></i> 3 Min Read</span>
                        <span class="bg-gray-800/50 text-gray-300 border border-gray-600 text-xs px-3 py-1 rounded-full">Basics</span>
                    </div>
                    <div class="flex items-center gap-3 md:gap-4 mb-4 md:mb-6">
                        <div class="w-10 h-10 md:w-12 md:h-12 bg-green-500/20 rounded-lg flex items-center justify-center text-green-400 shrink-0">
                            <i class="fas fa-code text-lg md:text-xl"></i>
                        </div>
                        <h3 class="text-lg md:text-2xl font-bold text-white">Software කියන්නේ මොකක්ද?</h3>
                    </div>
                    <div class="prose prose-invert text-gray-300 leading-relaxed flex-grow">
                        <p class="mb-4 text-sm md:text-base line-clamp-3 md:line-clamp-none">
                            සරලවම කිව්වොත්, <strong>Software (මෘදුකාංග)</strong> කියන්නේ පරිගණකයට හෝ ෆෝන් එකට "මොකක්ද කරන්න ඕන" කියලා කියලා දෙන උපදෙස් මාලාවක්. අපි දකින Hardware (මවුස්, කීබෝඩ්) වලට පණ දෙන්නේ මේ සොෆ්ට්වෙයාර් තමයි.
                        </p>
                        <details class="group mt-4">
                            <summary class="list-none cursor-pointer text-techBlue hover:text-white font-bold flex items-center gap-2 transition-colors text-sm md:text-base">
                                <span>සම්පූර්ණ විස්තරය කියවන්න</span>
                                <i class="fas fa-chevron-down group-open:rotate-180 transition-transform"></i>
                            </summary>
                            <div class="mt-4 pt-4 border-t border-gray-800 text-sm text-gray-400">
                                <p class="mb-3"><strong>Software ප්‍රධාන වර්ග 3ක් ඇත:</strong></p>
                                <ul class="list-disc pl-5 space-y-2 mb-4">
                                    <li><strong>System Software:</strong> මේවා තමයි පරිගණකයේ අඩිතාලම. Hardware පාලනය කරන්නේ මේවායින්. උදාහරණ: Windows, macOS, Android, Linux. මේවා නැතුව පරිගණකයක් On වෙන්නේ නෑ.</li>
                                    <li><strong>Application Software:</strong> අපි අපේ එදිනෙදා වැඩ කරගන්න දාගන්න මෘදුකාංග. උදාහරණ: MS Word, Photoshop, Google Chrome, Games.</li>
                                    <li><strong>Programming Software:</strong> අනිත් මෘදුකාංග හදන්න උදව් වෙන මෘදුකාංග. උදාහරණ: VS Code, Python Compilers.</li>
                                </ul>
                                <div class="w-full h-20 bg-gray-900/30 border border-gray-800 border-dashed rounded-lg my-4 flex items-center justify-center text-gray-600 text-xs">
                                    <p>In-Article Ad Space</p>
                                </div>
                            </div>
                        </details>
                    </div>
                </div>

                <!-- Qillqasqa 2: Ima Web K'iti? -->
                <div class="glass-card p-6 md:p-8 rounded-2xl reveal group hover:border-techBlue/50 transition-all delay-100 flex flex-col">
                    <div class="flex gap-3 mb-4 hidden md:flex">
                        <span class="bg-gray-800/50 text-techBlue border border-techBlue/20 text-xs px-3 py-1 rounded-full"><i class="far fa-clock mr-1"></i> 5 Min Read</span>
                        <span class="bg-gray-800/50 text-gray-300 border border-gray-600 text-xs px-3 py-1 rounded-full">Web</span>
                    </div>
                    <div class="flex items-center gap-3 md:gap-4 mb-4 md:mb-6">
                        <div class="w-10 h-10 md:w-12 md:h-12 bg-techBlue/20 rounded-lg flex items-center justify-center text-techBlue shrink-0">
                            <i class="fas fa-globe text-lg md:text-xl"></i>
                        </div>
                        <h3 class="text-lg md:text-2xl font-bold text-white">Web Site එකක් හැදෙන්නේ කොහොමද?</h3>
                    </div>
                    <div class="prose prose-invert text-gray-300 leading-relaxed flex-grow">
                        <p class="mb-4 text-sm md:text-base line-clamp-3 md:line-clamp-none">
                            Website (වෙබ් අඩවියක්) කියන්නේ අන්තර්ජාලය හරහා ලෝකයේ ඕනෑම කෙනෙක්ට පිවිසිය හැකි, එකිනෙකට සම්බන්ධ පිටු (Web Pages) සමූහයක්. මේක හරියට අන්තර්ජාලයේ තියෙන ඩිජිටල් පොතක් වගේ.
                        </p>
                        <details class="group mt-4">
                            <summary class="list-none cursor-pointer text-techBlue hover:text-white font-bold flex items-center gap-2 transition-colors text-sm md:text-base">
                                <span>සම්පූර්ණ විස්තරය කියවන්න</span>
                                <i class="fas fa-chevron-down group-open:rotate-180 transition-transform"></i>
                            </summary>
                            <div class="mt-4 pt-4 border-t border-gray-800 text-sm text-gray-400">
                                <p class="mb-3"><strong>වෙබ් අඩවියක් හදන්න ප්‍රධාන තාක්ෂණ 3ක් ඕන වෙනවා:</strong></p>
                                <ul class="list-none space-y-3 mb-4">
                                    <li class="flex gap-3">
                                        <span class="font-bold text-orange-500 hidden md:block">HTML:</span>
                                        <span>ගෙයක් හදද්දී බිත්ති බඳිනවා වගේ, වෙබ් සයිට් එකේ ඇටසැකිල්ල (Structure) හදන්නේ HTML වලින්.</span>
                                    </li>
                                    <li class="flex gap-3">
                                        <span class="font-bold text-blue-500 hidden md:block">CSS:</span>
                                        <span>ගෙදර පාට කරලා, ලස්සන කරලා, සැරසිලි කරනවා වගේ වැඩේ කරන්නේ CSS වලින්.</span>
                                    </li>
                                    <li class="flex gap-3">
                                        <span class="font-bold text-yellow-400 hidden md:block">JavaScript:</span>
                                        <span>ගෙදරට විදුලිය දීලා, ෆෑන්, ලයිට් වැඩ කරන තත්ත්වයට ගන්නවා වගේ, වෙබ් සයිට් එකට "පණ දෙන්නේ" JS වලින්.</span>
                                    </li>
                                </ul>
                            </div>
                        </details>
                    </div>
                </div>

                <!-- Qillqasqa 3: Ima AI? -->
                <div class="glass-card p-6 md:p-8 rounded-2xl reveal group hover:border-techPurple/50 transition-all delay-200 flex flex-col">
                    <div class="flex gap-3 mb-4 hidden md:flex">
                        <span class="bg-gray-800/50 text-techPurple border border-techPurple/20 text-xs px-3 py-1 rounded-full"><i class="far fa-clock mr-1"></i> 4 Min Read</span>
                        <span class="bg-gray-800/50 text-gray-300 border border-gray-600 text-xs px-3 py-1 rounded-full">Future</span>
                    </div>
                    <div class="flex items-center gap-3 md:gap-4 mb-4 md:mb-6">
                        <div class="w-10 h-10 md:w-12 md:h-12 bg-techPurple/20 rounded-lg flex items-center justify-center text-techPurple shrink-0">
                            <i class="fas fa-robot text-lg md:text-xl"></i>
                        </div>
                        <h3 class="text-lg md:text-2xl font-bold text-white">AI (කෘතිම බුද්ධිය) යනු කුමක්ද?</h3>
                    </div>
                    <div class="prose prose-invert text-gray-300 leading-relaxed flex-grow">
                        <p class="mb-4 text-sm md:text-base line-clamp-3 md:line-clamp-none">
                            AI හෙවත් Artificial Intelligence කියන්නේ පරිගණකයකට හෝ යන්ත්‍රයකට මිනිසෙකු මෙන් සිතීමට, ඉගෙන ගැනීමට සහ තීරණ ගැනීමට හැකි හැකියාව ලබා දීමයි. අද වන විට Phone එකේ Face Unlock එකේ සිට ස්වයංක්‍රීයව යන කාර් දක්වා හැමතැනම AI තියෙනවා.
                        </p>
                        <details class="group mt-4">
                            <summary class="list-none cursor-pointer text-techBlue hover:text-white font-bold flex items-center gap-2 transition-colors text-sm md:text-base">
                                <span>සම්පූර්ණ විස්තරය කියවන්න</span>
                                <i class="fas fa-chevron-down group-open:rotate-180 transition-transform"></i>
                            </summary>
                            <div class="mt-4 pt-4 border-t border-gray-800 text-sm text-gray-400">
                                <p class="mb-3 hidden md:block"><strong>AI වැඩ කරන්නේ කොහොමද?</strong><br>AI එකක් ඉගෙන ගන්නේ දත්ත (Data) වලින්. මේකට Machine Learning කියලා කියනවා.</p>
                                <p class="mb-3"><strong>AI වර්ග:</strong></p>
                                <ul class="list-disc pl-5 space-y-2 mb-4">
                                    <li><strong>Narrow AI:</strong> එක වැඩක් විතරක් කරන්න පුළුවන් AI. උදා: Siri, Google Assistant, ChatGPT. මේවාට හැඟීම් දැනෙන්නේ නෑ.</li>
                                    <li><strong>General AI:</strong> මිනිහෙක් වගේම ඕනම වැඩක් කරන්න පුළුවන්, තනිවම හිතන්න පුළුවන් AI. මේවා තාම පර්යේෂණ මට්ටමේ තියෙන්නේ.</li>
                                </ul>
                            </div>
                        </details>
                    </div>
                </div>

                <!-- Qillqasqa 4: Freelancing -->
                <div class="glass-card p-6 md:p-8 rounded-2xl reveal group hover:border-teal-500/50 transition-all flex flex-col">
                    <div class="flex gap-3 mb-4 hidden md:flex">
                        <span class="bg-gray-800/50 text-teal-400 border border-teal-500/20 text-xs px-3 py-1 rounded-full"><i class="far fa-clock mr-1"></i> 6 Min Read</span>
                        <span class="bg-gray-800/50 text-gray-300 border border-gray-600 text-xs px-3 py-1 rounded-full">Money</span>
                    </div>
                    <div class="flex items-center gap-3 md:gap-4 mb-4 md:mb-6">
                        <div class="w-10 h-10 md:w-12 md:h-12 bg-teal-500/20 rounded-lg flex items-center justify-center text-teal-500 shrink-0">
                            <i class="fas fa-dollar-sign text-lg md:text-xl"></i>
                        </div>
                        <h3 class="text-lg md:text-2xl font-bold text-white">Freelancing සරලව</h3>
                    </div>
                    <div class="prose prose-invert text-gray-300 leading-relaxed flex-grow">
                        <p class="mb-4 text-sm md:text-base line-clamp-3 md:line-clamp-none">
                            Freelancing කියන්නේ ස්ථිර බොස් කෙනෙක් යටතේ රස්සාවක් නොකර, තමන්ට කැමති වෙලාවක, තමන් දන්නා හැකියාව පාවිච්චි කරලා අන්තර්ජාලය හරහා විවිධ රටවල පුද්ගලයින්ට වැඩ කරලා මුදල් උපයන ක්‍රමයක්.
                        </p>
                        <details class="group mt-4">
                            <summary class="list-none cursor-pointer text-techBlue hover:text-white font-bold flex items-center gap-2 transition-colors text-sm md:text-base">
                                <span>සම්පූර්ණ විස්තරය කියවන්න</span>
                                <i class="fas fa-chevron-down group-open:rotate-180 transition-transform"></i>
                            </summary>
                            <div class="mt-4 pt-4 border-t border-gray-800 text-sm text-gray-400">
                                <p class="mb-3"><strong>පටන් ගන්නේ කොහොමද?</strong></p>
                                <ol class="list-decimal pl-5 space-y-2 mb-4">
                                    <li><strong>හැකියාවක් හදාගන්න:</strong> Graphic Design, Web Development, Video Editing වගේ දෙයක් මුලින්ම හොඳට ඉගෙන ගන්න.</li>
                                    <li><strong>Profile එකක් හදන්න:</strong> Fiverr, Upwork, Freelancer.com වගේ වෙබ් අඩවියක ගිණුමක් හදාගන්න.</li>
                                    <li><strong>Orders ලබාගන්න:</strong> හොඳ Portfolio එකක් පෙන්නලා පාරිභෝගිකයන් ආකර්ෂණය කරගන්න.</li>
                                </ol>
                            </div>
                        </details>
                    </div>
                </div>

                <!-- Qillqasqa 5: SSD vs HDD -->
                <div class="glass-card p-6 md:p-8 rounded-2xl reveal group hover:border-orange-500/50 transition-all flex flex-col">
                    <div class="flex items-center gap-3 md:gap-4 mb-4 md:mb-6">
                        <div class="w-10 h-10 md:w-12 md:h-12 bg-orange-500/20 rounded-lg flex items-center justify-center text-orange-500 shrink-0">
                            <i class="fas fa-hdd text-lg md:text-xl"></i>
                        </div>
                        <h3 class="text-lg md:text-2xl font-bold text-white">SSD සහ HDD අතර වෙනස</h3>
                    </div>
                    <div class="prose prose-invert text-gray-300 leading-relaxed flex-grow">
                        <p class="mb-4 text-sm md:text-base line-clamp-3 md:line-clamp-none">
                            පරිගණකයක් Slow වෙන්න ප්‍රධානම හේතුවක් තමයි පරණ HDD (Hard Disk Drive) තාක්ෂණය භාවිතා කිරීම. අද කාලේ අලුත් පරිගණක වල එන්නේ SSD (Solid State Drive).
                        </p>
                        <details class="group mt-4">
                            <summary class="list-none cursor-pointer text-techBlue hover:text-white font-bold flex items-center gap-2 transition-colors text-sm md:text-base">
                                <span>සම්පූර්ණ විස්තරය කියවන්න</span>
                                <i class="fas fa-chevron-down group-open:rotate-180 transition-transform"></i>
                            </summary>
                            <div class="mt-4 pt-4 border-t border-gray-800 text-sm text-gray-400">
                                <ul class="list-disc pl-5 space-y-2 mb-4">
                                    <li><strong>HDD (Hard Disk Drive):</strong> මේක ඇතුලේ තියෙන්නේ වේගයෙන් කැරකෙන චුම්බක තැටි. මේක යාන්ත්‍රික නිසා වේගය අඩුයි.</li>
                                    <li><strong>SSD (Solid State Drive):</strong> මේකේ කැරකෙන කොටස් මුකුත් නෑ. Pen Drive එකක් වගේ මෙමරි චිප්ස් වලින් හැදිලා තියෙන්නේ. ඒ නිසා HDD එකට වඩා 10 ගුණයක් විතර වේගවත්.</li>
                                </ul>
                            </div>
                        </details>
                    </div>
                </div>

                <!-- Qillqasqa 6: RAM Sut'inchasqa -->
                <div class="glass-card p-6 md:p-8 rounded-2xl reveal group hover:border-blue-500/50 transition-all flex flex-col">
                    <div class="flex items-center gap-3 md:gap-4 mb-4 md:mb-6">
                        <div class="w-10 h-10 md:w-12 md:h-12 bg-blue-500/20 rounded-lg flex items-center justify-center text-blue-500 shrink-0">
                            <i class="fas fa-memory text-lg md:text-xl"></i>
                        </div>
                        <h3 class="text-lg md:text-2xl font-bold text-white">RAM එක කියන්නේ මොකක්ද?</h3>
                    </div>
                    <div class="prose prose-invert text-gray-300 leading-relaxed flex-grow">
                        <p class="mb-4 text-sm md:text-base line-clamp-3 md:line-clamp-none">
                            RAM (Random Access Memory) කියන්නේ පරිගණකයේ "කෙටි කාලීන මතකය". ඔයා දැනට කරමින් පවතින වැඩ තාවකාලිකව ගබඩා වෙලා තියෙන්නේ මේකේ.
                        </p>
                        <details class="group mt-4">
                            <summary class="list-none cursor-pointer text-techBlue hover:text-white font-bold flex items-center gap-2 transition-colors text-sm md:text-base">
                                <span>සම්පූර්ණ විස්තරය කියවන්න</span>
                                <i class="fas fa-chevron-down group-open:rotate-180 transition-transform"></i>
                            </summary>
                            <div class="mt-4 pt-4 border-t border-gray-800 text-sm text-gray-400">
                                <ul class="list-disc pl-5 space-y-2 mb-4">
                                    <li><strong>4GB:</strong> සාමාන්‍ය Office වැඩ සහ ඉන්ටර්නෙට් යන්න ඇති.</li>
                                    <li><strong>8GB:</strong> අද කාලේ අවම අවශ්‍යතාවය මෙයයි. Games ගහන්න හොඳයි.</li>
                                    <li><strong>16GB+:</strong> Video Editing, Gaming සහ බර වැඩ වලට අනිවාර්යයි.</li>
                                </ul>
                            </div>
                        </details>
                    </div>
                </div>

                <!-- Qillqasqa 7: Procesador (CPU) -->
                <div class="glass-card p-6 md:p-8 rounded-2xl reveal group hover:border-red-500/50 transition-all flex flex-col">
                    <div class="flex items-center gap-3 md:gap-4 mb-4 md:mb-6">
                        <div class="w-10 h-10 md:w-12 md:h-12 bg-red-500/20 rounded-lg flex items-center justify-center text-red-500 shrink-0">
                            <i class="fas fa-microchip text-lg md:text-xl"></i>
                        </div>
                        <h3 class="text-lg md:text-2xl font-bold text-white">Processor (CPU) ගැන දැනගමු</h3>
                    </div>
                    <div class="prose prose-invert text-gray-300 leading-relaxed flex-grow">
                        <p class="mb-4 text-sm md:text-base line-clamp-3 md:line-clamp-none">
                            CPU (Central Processing Unit) කියන්නේ පරිගණකයේ "මොළය". අපි පරිගණකයට දෙන හැම විධානයක්ම ක්‍රියාත්මක කරන්නේ මේකෙන්. ලෝකයේ ප්‍රධාන CPU වර්ග දෙකක් තියෙනවා: Intel සහ AMD.
                        </p>
                        <details class="group mt-4">
                            <summary class="list-none cursor-pointer text-techBlue hover:text-white font-bold flex items-center gap-2 transition-colors text-sm md:text-base">
                                <span>සම්පූර්ණ විස්තරය කියවන්න</span>
                                <i class="fas fa-chevron-down group-open:rotate-180 transition-transform"></i>
                            </summary>
                            <div class="mt-4 pt-4 border-t border-gray-800 text-sm text-gray-400">
                                <ul class="list-disc pl-5 space-y-2 mb-4">
                                    <li><strong>i3:</strong> සාමාන්‍ය ගෙදර සහ ඔෆිස් වැඩ වලට.</li>
                                    <li><strong>i5:</strong> මධ්‍යම ප්‍රමාණයේ වැඩ, Games සහ සාමාන්‍ය Editing වලට.</li>
                                    <li><strong>i7/i9:</strong> බරසාර වැඩ, 4K Video Editing, 3D Rendering සඳහා.</li>
                                </ul>
                            </div>
                        </details>
                    </div>
                </div>

                <!-- Qillqasqa 8: Virus Hark'aq -->
                <div class="glass-card p-6 md:p-8 rounded-2xl reveal group hover:border-green-600/50 transition-all flex flex-col">
                    <div class="flex items-center gap-3 md:gap-4 mb-4 md:mb-6">
                        <div class="w-10 h-10 md:w-12 md:h-12 bg-green-600/20 rounded-lg flex items-center justify-center text-green-600 shrink-0">
                            <i class="fas fa-shield-virus text-lg md:text-xl"></i>
                        </div>
                        <h3 class="text-lg md:text-2xl font-bold text-white">Virus Guard එකක් අත්‍යවශ්‍යද?</h3>
                    </div>
                    <div class="prose prose-invert text-gray-300 leading-relaxed flex-grow">
                        <p class="mb-4 text-sm md:text-base line-clamp-3 md:line-clamp-none">
                            දැන් එන Windows 10 සහ 11 එක්ක එන "Windows Defender" එක ඉතාමත් ප්‍රබලයි. ඒක සාමාන්‍ය පරිශීලකයෙක්ට හොඳටම ප්‍රමාණවත්. වෙනම Virus Guard එකක් දාන්න ඕන කාටද?
                        </p>
                        <details class="group mt-4">
                            <summary class="list-none cursor-pointer text-techBlue hover:text-white font-bold flex items-center gap-2 transition-colors text-sm md:text-base">
                                <span>සම්පූර්ණ විස්තරය කියවන්න</span>
                                <i class="fas fa-chevron-down group-open:rotate-180 transition-transform"></i>
                            </summary>
                            <div class="mt-4 pt-4 border-t border-gray-800 text-sm text-gray-400">
                                <ul class="list-disc pl-5 space-y-2 mb-4">
                                    <li>ඔයා නිතරම Crack Software, Torrent Games ඩවුන්ලෝඩ් කරනවා නම්.</li>
                                    <li>පොදු ස්ථාන වල පෙන් ඩ්‍රයිව් ගහනවා නම්.</li>
                                </ul>
                                <p class="mb-3">එහෙම අයට <strong>Kaspersky, Bitdefender</strong> හෝ <strong>Malwarebytes</strong> වගේ ආරක්ෂිත මෘදුකාංගයක් නිර්දේශ කරනවා.</p>
                            </div>
                        </details>
                    </div>
                </div>

                <!-- Qillqasqa 9: VPN Sut'inchasqa -->
                <div class="glass-card p-6 md:p-8 rounded-2xl reveal group hover:border-yellow-500/50 transition-all flex flex-col">
                    <div class="flex items-center gap-3 md:gap-4 mb-4 md:mb-6">
                        <div class="w-10 h-10 md:w-12 md:h-12 bg-yellow-500/20 rounded-lg flex items-center justify-center text-yellow-500 shrink-0">
                            <i class="fas fa-user-secret text-lg md:text-xl"></i>
                        </div>
                        <h3 class="text-lg md:text-2xl font-bold text-white">VPN පාවිච්චි කරන්නේ ඇයි?</h3>
                    </div>
                    <div class="prose prose-invert text-gray-300 leading-relaxed flex-grow">
                        <p class="mb-4 text-sm md:text-base line-clamp-3 md:line-clamp-none">
                            VPN මගින් කරන්නේ ඔයාගේ අන්තර්ජාල සම්බන්ධතාවය ආරක්ෂිත උමගක් හරහා යවන එක. ඔයා ඉන්ටර්නෙට් එකේ කරන දේවල් වෙන අයට පේන්නේ නෑ.
                        </p>
                        <details class="group mt-4">
                            <summary class="list-none cursor-pointer text-techBlue hover:text-white font-bold flex items-center gap-2 transition-colors text-sm md:text-base">
                                <span>සම්පූර්ණ විස්තරය කියවන්න</span>
                                <i class="fas fa-chevron-down group-open:rotate-180 transition-transform"></i>
                            </summary>
                            <div class="mt-4 pt-4 border-t border-gray-800 text-sm text-gray-400">
                                <ul class="list-disc pl-5 space-y-2 mb-4">
                                    <li><strong>Public WiFi පාවිච්චි කරනකොට:</strong> හෝටල් වල, පාක් වල තියෙන Free WiFi ආරක්ෂිත නෑ. හොරුන්ට ඔයාගේ Data ගන්න පුළුවන්.</li>
                                    <li><strong>Blocked Sites වලට යන්න:</strong> සමහර රටවල Block කරපු වෙබ් අඩවි වලට යන්න VPN උදව් වෙනවා.</li>
                                </ul>
                            </div>
                        </details>
                    </div>
                </div>

                <!-- Qillqasqa 10: Bitcoin/Crypto -->
                <div class="glass-card p-6 md:p-8 rounded-2xl reveal group hover:border-yellow-400/50 transition-all flex flex-col">
                    <div class="flex items-center gap-3 md:gap-4 mb-4 md:mb-6">
                        <div class="w-10 h-10 md:w-12 md:h-12 bg-yellow-400/20 rounded-lg flex items-center justify-center text-yellow-400 shrink-0">
                            <i class="fab fa-bitcoin text-lg md:text-xl"></i>
                        </div>
                        <h3 class="text-lg md:text-2xl font-bold text-white">Bitcoin සහ Crypto සරලව</h3>
                    </div>
                    <div class="prose prose-invert text-gray-300 leading-relaxed flex-grow">
                        <p class="mb-4 text-sm md:text-base line-clamp-3 md:line-clamp-none">
                            Cryptocurrency කියන්නේ ඩිජිටල් මුදල් වර්ගයක්. රුපියල්, ඩොලර් වගේ නෙවෙයි, මේවා අතින් අල්ලන්න බෑ. මේවා පවතින්නේ පරිගණක ජාලයක් තුළ (Blockchain).
                        </p>
                        <details class="group mt-4">
                            <summary class="list-none cursor-pointer text-techBlue hover:text-white font-bold flex items-center gap-2 transition-colors text-sm md:text-base">
                                <span>සම්පූර්ණ විස්තරය කියවන්න</span>
                                <i class="fas fa-chevron-down group-open:rotate-180 transition-transform"></i>
                            </summary>
                            <div class="mt-4 pt-4 border-t border-gray-800 text-sm text-gray-400">
                                <p class="mb-3">Blockchain තාක්ෂණය හරහා තමයි මේ හැම ගනුදෙනුවක්ම සටහන් වෙන්නේ. ඒ නිසා හොර කරන්න අමාරුයි.</p>
                                <p><strong>අවදානම:</strong> Crypto වල වටිනාකම ඉතා ඉක්මනින් ඉහළ පහළ යනවා. ඒ වගේම මේ ක්ෂේත්‍රයේ වංචාකරුවන් බහුලයි.</p>
                            </div>
                        </details>
                    </div>
                </div>

                <!-- Qillqasqa 11: Android vs iOS -->
                <div class="glass-card p-6 md:p-8 rounded-2xl reveal group hover:border-green-400/50 transition-all flex flex-col">
                    <div class="flex items-center gap-3 md:gap-4 mb-4 md:mb-6">
                        <div class="w-10 h-10 md:w-12 md:h-12 bg-green-400/20 rounded-lg flex items-center justify-center text-green-400 shrink-0">
                            <i class="fab fa-android text-lg md:text-xl"></i>
                        </div>
                        <h3 class="text-lg md:text-2xl font-bold text-white">Android ද? iPhone (iOS) ද?</h3>
                    </div>
                    <div class="prose prose-invert text-gray-300 leading-relaxed flex-grow">
                        <p class="mb-4 text-sm md:text-base line-clamp-3 md:line-clamp-none">
                            ස්මාර්ට් ෆෝන් ලෝකයේ තියෙන ලොකුම තරඟය. Google ලගේ Android සහ Apple ලගේ iOS. මේ දෙකේම වාසි අවාසි තියෙනවා. ඔයාට හරියන්නේ මොකක්ද?
                        </p>
                        <details class="group mt-4">
                            <summary class="list-none cursor-pointer text-techBlue hover:text-white font-bold flex items-center gap-2 transition-colors text-sm md:text-base">
                                <span>සම්පූර්ණ විස්තරය කියවන්න</span>
                                <i class="fas fa-chevron-down group-open:rotate-180 transition-transform"></i>
                            </summary>
                            <div class="mt-4 pt-4 border-t border-gray-800 text-sm text-gray-400">
                                <ul class="list-disc pl-5 space-y-2 mb-4">
                                    <li><strong>Android:</strong> නිදහස වැඩියි. අපිට ඕන විදියට ෆෝන් එක වෙනස් කරගන්න පුළුවන්. මිල ගණන් පරාසය පුළුල්.</li>
                                    <li><strong>iOS (iPhone):</strong> ඉතාම සරලයි. ආරක්ෂාව අතින් ඉතා ඉහළයි. අවුරුදු ගානක් ගියත් ෆෝන් එක Slow වෙන්නේ නෑ.</li>
                                </ul>
                            </div>
                        </details>
                    </div>
                </div>

            </div>
            
            <!-- Willakuy K'iti (Ura) -->
            <div class="w-full h-24 bg-gray-900/50 border border-gray-800 border-dashed rounded-xl mt-12 flex items-center justify-center text-gray-600 text-sm reveal">
                <p>Google AdSense Banner Area</p>
            </div>

        </div>
    </section>

    <!-- SASACHAKUYKUNA ALLICHAY T'AQA -->
    <section id="troubleshoot" class="py-24 relative bg-black/40 backdrop-blur-sm border-t border-white/5">
        <div class="max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10">
            <div class="text-center mb-12 reveal">
                <span class="text-techPink font-bold tracking-widest uppercase text-sm">Self Help Center</span>
                <h2 class="text-4xl font-bold text-white mt-2">Knowledge <span class="text-transparent bg-clip-text bg-gradient-to-r from-techPink to-techPurple">Base</span></h2>
            </div>

            <!-- Kunan Pacha Thaqhay -->
            <div class="mb-12 relative group reveal">
                <div class="absolute -inset-1 bg-gradient-to-r from-techBlue via-techPurple to-techPink rounded-full opacity-50 blur group-hover:opacity-100 transition duration-1000 group-hover:duration-200 hidden md:block"></div>
                <div class="relative flex items-center bg-black rounded-full p-2 border border-gray-800 md:border-none">
                    <i class="fas fa-search text-gray-400 ml-4 text-xl"></i>
                    <input type="text" id="searchInput" placeholder="Describe your issue (e.g. 'No Sound', 'Blue Screen')..." 
                        class="w-full bg-transparent text-white px-4 py-3 text-base md:text-lg focus:outline-none placeholder-gray-600">
                </div>
            </div>

            <div class="flex justify-center gap-2 md:gap-4 mb-8 flex-wrap reveal">
                <button onclick="filterIssues('all')" class="filter-btn active px-4 md:px-6 py-2 rounded-full border border-gray-700 text-gray-300 hover:border-techBlue hover:text-techBlue hover:bg-techBlue/10 transition-all text-sm md:text-base font-medium">All Issues</button>
                <button onclick="filterIssues('Hardware')" class="filter-btn px-4 md:px-6 py-2 rounded-full border border-gray-700 text-gray-300 hover:border-techBlue hover:text-techBlue hover:bg-techBlue/10 transition-all text-sm md:text-base font-medium">Hardware</button>
                <button onclick="filterIssues('Software')" class="filter-btn px-4 md:px-6 py-2 rounded-full border border-gray-700 text-gray-300 hover:border-techBlue hover:text-techBlue hover:bg-techBlue/10 transition-all text-sm md:text-base font-medium">Software</button>
                <button onclick="filterIssues('Internet')" class="filter-btn px-4 md:px-6 py-2 rounded-full border border-gray-700 text-gray-300 hover:border-techBlue hover:text-techBlue hover:bg-techBlue/10 transition-all text-sm md:text-base font-medium">Internet</button>
            </div>

            <!-- Sasachakuykuna Sutisuyu -->
            <div id="issuesContainer" class="space-y-3 md:space-y-4 max-h-[600px] overflow-y-auto pr-2 custom-scrollbar reveal">
                <!-- Javascript kayta hunt'anqa -->
            </div>
        </div>
    </section>

    <!-- Ñuqamanta -->
    <section id="about" class="py-24 relative">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10">
            <div class="glass-card rounded-3xl p-6 md:p-12 border border-gray-800 bg-gradient-to-br from-gray-900 to-black reveal">
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 items-center">
                    <div>
                        <h2 class="text-3xl md:text-4xl font-bold text-white mb-6">About <span class="text-techBlue">Tiran Kalhara</span></h2>
                        
                        <div class="space-y-4 md:space-y-6 text-gray-300 text-base md:text-lg leading-relaxed">
                            <p>
                                I am not just a technician or a developer; I am someone who genuinely cares about technology and the people who use it. I started this journey out of pure passion for understanding how things work—from the tiniest microchip to complex software codes.
                            </p>
                            <p>
                                My philosophy is simple: <strong>Quality over Quantity</strong>. When you hand over a laptop for repair or trust me with a website project, I treat it as my own. I don't believe in quick fixes, shortcuts, or hidden costs. I believe in doing the job right the first time.
                            </p>
                            <p class="hidden md:block">
                                Whether it's reviving a dead computer or building a system for your business, my goal is to give you a solution that you can rely on. If I can't fix it, I'll be honest about it. My reputation is built on trust, transparency, and a genuine desire to help.
                            </p>
                        </div>

                        <div class="mt-8 pt-6 border-t border-gray-800 hidden md:block">
                            <p class="text-gray-400 italic">"Technology is complicated, but finding a reliable person to handle it shouldn't be."</p>
                        </div>
                    </div>
                    <div class="relative">
                        <!-- K'acha imakuna -->
                        <div class="absolute -top-10 -right-10 w-32 h-32 bg-techBlue rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob hidden md:block"></div>
                        <div class="absolute -bottom-10 -left-10 w-32 h-32 bg-techPurple rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-2000 hidden md:block"></div>
                        
                        <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                            <div class="bg-white/5 p-6 rounded-2xl backdrop-blur-sm border border-white/10 hover:border-techBlue transition-colors animate-float">
                                <i class="fas fa-brain text-3xl md:text-4xl text-techBlue mb-4"></i>
                                <h4 class="text-white font-bold">Deep Analysis</h4>
                                <p class="text-xs text-gray-500 mt-2">I find the root cause, not just the symptom.</p>
                            </div>
                            <div class="bg-white/5 p-6 rounded-2xl backdrop-blur-sm border border-white/10 hover:border-techPurple transition-colors md:mt-8 animate-float hidden sm:block" style="animation-delay: 1s;">
                                <i class="fas fa-layer-group text-3xl md:text-4xl text-techPurple mb-4"></i>
                                <h4 class="text-white font-bold">Full Dedication</h4>
                                <p class="text-xs text-gray-500 mt-2">Every project gets my 100% attention.</p>
                            </div>
                            <div class="bg-white/5 p-6 rounded-2xl backdrop-blur-sm border border-white/10 hover:border-techPink transition-colors animate-float" style="animation-delay: 2s;">
                                <i class="fas fa-handshake text-3xl md:text-4xl text-techPink mb-4"></i>
                                <h4 class="text-white font-bold">Honest Work</h4>
                                <p class="text-xs text-gray-500 mt-2">Transparent pricing and genuine advice.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Tech Stack Ch'imi -->
    <div class="py-6 md:py-10 border-t border-white/5 bg-black/50 backdrop-blur-sm overflow-hidden">
        <div class="max-w-7xl mx-auto px-4 flex flex-wrap justify-center gap-6 md:gap-12 md:grayscale hover:grayscale-0 transition-all duration-500 reveal">
            <i class="fab fa-html5 text-4xl md:text-5xl text-orange-500 md:opacity-50 hover:opacity-100 hover:scale-110 transition-all"></i>
            <i class="fab fa-css3-alt text-4xl md:text-5xl text-blue-500 md:opacity-50 hover:opacity-100 hover:scale-110 transition-all"></i>
            <i class="fab fa-js text-4xl md:text-5xl text-yellow-400 md:opacity-50 hover:opacity-100 hover:scale-110 transition-all"></i>
            <i class="fab fa-react text-4xl md:text-5xl text-cyan-400 md:opacity-50 hover:opacity-100 hover:scale-110 transition-all"></i>
            <i class="fab fa-python text-4xl md:text-5xl text-blue-300 md:opacity-50 hover:opacity-100 hover:scale-110 transition-all"></i>
            <i class="fab fa-windows text-4xl md:text-5xl text-blue-600 md:opacity-50 hover:opacity-100 hover:scale-110 transition-all"></i>
        </div>
    </div>

    <!-- FUN ZONE T'AQA (Interactive Area) -->
    <section id="funzone" class="py-24 relative bg-[#0a0a0a] border-t border-white/5">
        <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10">
            <div class="text-center mb-16 reveal">
                <span class="text-yellow-400 font-bold tracking-widest uppercase text-sm">Interactive Tech</span>
                <h2 class="text-4xl font-bold text-white mt-2">Fun <span class="text-transparent bg-clip-text bg-gradient-to-r from-yellow-400 to-orange-500">Zone</span></h2>
                <p class="text-gray-400 mt-4 max-w-2xl mx-auto">වෙබ් අඩවියේ රැඳී සිටින අතරතුර ඔබේ IT දැනුම උරගා බලන්න සහ අලුත් දේවල් ඉගෙන ගන්න.</p>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-8 mb-8">
                <!-- Tech Facts Generator -->
                <div class="glass-card rounded-3xl p-8 border border-gray-800 bg-gradient-to-br from-gray-900 to-black reveal flex flex-col justify-between items-center text-center">
                    <i class="fas fa-lightbulb text-5xl text-yellow-400 mb-6 drop-shadow-[0_0_15px_rgba(250,204,21,0.5)]"></i>
                    <h3 class="text-2xl font-bold text-white mb-4">Did You Know?</h3>
                    <div class="min-h-[100px] flex items-center justify-center w-full bg-black/50 rounded-xl p-4 border border-white/10 mb-6">
                        <p id="fact-display" class="text-gray-300 text-lg italic transition-opacity duration-500">"පළමු පරිගණක මූසිකය (Mouse) 1964 දී ලී වලින් නිපදවා ඇත."</p>
                    </div>
                    <button onclick="generateFact()" class="bg-gradient-to-r from-yellow-400 to-orange-500 text-black font-bold py-3 px-8 rounded-full shadow-[0_0_20px_rgba(250,204,21,0.3)] hover:scale-105 transition-transform w-full md:w-auto">
                        <i class="fas fa-random mr-2"></i> අලුත් කරුණක් පෙන්වන්න
                    </button>
                </div>

                <!-- Mini Tech Quiz -->
                <div class="glass-card rounded-3xl p-8 border border-gray-800 bg-gradient-to-br from-gray-900 to-black reveal flex flex-col">
                    <div class="flex justify-between items-center mb-6">
                        <h3 class="text-2xl font-bold text-white"><i class="fas fa-gamepad text-techBlue mr-2"></i> Mini IT Quiz</h3>
                        <span id="quiz-score-badge" class="bg-techBlue/20 text-techBlue px-3 py-1 rounded-full text-sm font-bold border border-techBlue/30 hidden">Score: 0</span>
                    </div>
                    
                    <!-- Quiz Intro -->
                    <div id="quiz-intro" class="text-center flex-grow flex flex-col justify-center items-center">
                        <p class="text-gray-400 mb-6">ඔබේ පරිගණක දැනුම පරීක්ෂා කරගන්න පොඩි ගේම් එකක් ප්ලේ කරමුද?</p>
                        <button onclick="startQuiz()" class="bg-transparent border-2 border-techBlue text-techBlue hover:bg-techBlue hover:text-black font-bold py-2 px-6 rounded-full transition-colors w-full md:w-auto">
                            <i class="fas fa-play mr-2"></i> Play Now
                        </button>
                    </div>

                    <!-- Quiz Question Area -->
                    <div id="quiz-area" class="hidden flex-grow flex flex-col">
                        <p id="quiz-question" class="text-lg text-white mb-6 font-medium text-center"></p>
                        <div id="quiz-options" class="grid grid-cols-1 gap-3 flex-grow">
                            <!-- Options injected here -->
                        </div>
                    </div>

                    <!-- Quiz Result Area -->
                    <div id="quiz-result" class="hidden text-center flex-grow flex flex-col justify-center items-center">
                        <i id="quiz-icon" class="fas fa-trophy text-5xl text-yellow-400 mb-4"></i>
                        <h4 class="text-2xl font-bold text-white mb-2" id="quiz-result-title">Good Job!</h4>
                        <p class="text-gray-400 mb-6" id="quiz-result-text">You scored 3/5.</p>
                        <button onclick="startQuiz()" class="bg-white/10 hover:bg-white/20 text-white font-bold py-2 px-6 rounded-full border border-white/20 transition-colors">
                            <i class="fas fa-redo mr-2"></i> Play Again
                        </button>
                    </div>
                </div>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-8 mt-8">
                <!-- Hex Color Guesser -->
                <div class="glass-card rounded-3xl p-8 border border-gray-800 bg-gradient-to-br from-gray-900 to-black reveal flex flex-col items-center justify-between">
                    <div class="text-center mb-4">
                        <h3 class="text-2xl font-bold text-white mb-2"><i class="fas fa-palette text-pink-400 mr-2"></i> Guess the HEX</h3>
                        <p class="text-gray-400 text-sm">නිවැරදි වර්ණ කේතය (HEX) තෝරන්න.</p>
                    </div>
                    
                    <div id="hex-color-box" class="w-full h-24 rounded-xl shadow-inner mb-4 transition-colors duration-300 border border-white/10" style="background-color: #ff0055;"></div>
                    
                    <div id="hex-options" class="grid grid-cols-1 gap-2 w-full mb-4">
                        <!-- Buttons injected via JS -->
                    </div>
                    
                    <div class="flex justify-between w-full text-sm font-bold bg-black/40 px-4 py-2 rounded-lg border border-white/5">
                        <span class="text-gray-400">Score: <span id="hex-score" class="text-pink-400 text-lg">0</span></span>
                        <button onclick="initHexGame()" class="text-white hover:text-pink-400 transition-colors"><i class="fas fa-redo"></i> Skip</button>
                    </div>
                </div>

                <!-- Catch the Bug -->
                <div class="glass-card rounded-3xl p-8 border border-gray-800 bg-gradient-to-br from-gray-900 to-black reveal flex flex-col items-center justify-between">
                    <div class="text-center mb-4">
                        <h3 class="text-2xl font-bold text-white mb-2"><i class="fas fa-bug text-red-500 mr-2"></i> Squash the Bug</h3>
                        <p class="text-gray-400 text-sm">තත්පර 15ක් ඇතුළත Bugs කීයක් අල්ලන්න පුළුවන්ද?</p>
                    </div>
                    
                    <div id="bug-container" class="relative w-full h-48 bg-black/60 rounded-xl border border-white/10 overflow-hidden mb-4 cursor-crosshair">
                        <div id="bug-start-screen" class="absolute inset-0 flex items-center justify-center bg-black/80 z-10">
                            <button onclick="startBugGame()" class="bg-red-500 hover:bg-red-600 text-white font-bold py-2 px-6 rounded-full transition-colors"><i class="fas fa-play mr-2"></i> Start Game</button>
                        </div>
                        <i id="the-bug" class="fas fa-bug text-red-500 text-3xl absolute hidden cursor-pointer hover:scale-125 transition-transform" onclick="catchBug()" style="top: 50%; left: 50%;"></i>
                    </div>
                    
                    <div class="flex justify-between w-full text-sm font-bold bg-black/40 px-4 py-2 rounded-lg border border-white/5">
                        <span class="text-gray-400">Time: <span id="bug-time" class="text-white">15s</span></span>
                        <span class="text-gray-400">Bugs: <span id="bug-score" class="text-red-500 text-lg">0</span></span>
                    </div>
                </div>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-8 mt-8">
                <!-- Tech Memory Match -->
                <div class="glass-card rounded-3xl p-8 border border-gray-800 bg-gradient-to-br from-gray-900 to-black reveal flex flex-col items-center justify-between">
                    <div class="text-center mb-4">
                        <h3 class="text-2xl font-bold text-white mb-2"><i class="fas fa-clone text-techPurple mr-2"></i> Memory Match</h3>
                        <p class="text-gray-400 text-sm">එක සමාන Tech Icons දෙක බැගින් සොයාගන්න.</p>
                    </div>
                    
                    <div id="memory-board" class="grid grid-cols-4 gap-2 md:gap-3 w-full max-w-[240px] mb-2 perspective-1000">
                        <!-- Cards injected via JS -->
                    </div>
                    
                    <div class="h-8 mt-2 flex items-center">
                        <button id="memory-win-msg" onclick="initMemoryGame()" class="hidden bg-techPurple/20 hover:bg-techPurple/40 text-techPurple border border-techPurple/30 px-4 py-1.5 rounded-full text-sm font-bold transition-all animate-bounce">
                            You Won! 🎉 Play Again
                        </button>
                    </div>
                </div>

                <!-- Hacker Typing Test -->
                <div class="glass-card rounded-3xl p-8 border border-gray-800 bg-gradient-to-br from-gray-900 to-black reveal flex flex-col items-center justify-between">
                    <div class="text-center mb-4">
                        <h3 class="text-2xl font-bold text-white mb-2"><i class="fas fa-keyboard text-green-400 mr-2"></i> Hacker Typing</h3>
                        <p class="text-gray-400 text-sm">පහත කේතය කොතරම් වේගයෙන් ටයිප් කළ හැකිද?</p>
                    </div>
                    
                    <div class="bg-black/60 p-4 rounded-xl border border-white/10 w-full text-center mb-6 shadow-inner">
                        <span id="typing-quote" class="font-mono text-techBlue text-sm md:text-base tracking-widest select-none">console.log("Hi");</span>
                    </div>
                    
                    <input type="text" id="typing-input" placeholder="මෙතන ටයිප් කරන්න..." class="w-full bg-white/5 border border-gray-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-green-400 focus:bg-white/10 font-mono text-center mb-6 transition-all shadow-[0_0_15px_rgba(74,222,128,0)] focus:shadow-[0_0_15px_rgba(74,222,128,0.2)]" oninput="checkTyping()" onpaste="return false;" autocomplete="off" spellcheck="false">
                    
                    <div class="flex justify-between w-full text-sm font-bold bg-black/40 px-4 py-2 rounded-lg border border-white/5">
                        <span class="text-gray-400">Time: <span id="typing-time" class="text-white">0.0s</span></span>
                        <span class="text-gray-400">WPM: <span id="typing-wpm" class="text-green-400 text-lg">0</span></span>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Willanakuy T'aqa -->
    <section id="contact" class="py-24 relative">
        <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10">
            <div class="glass-card rounded-3xl p-1 bg-gradient-to-b from-gray-800 to-black reveal">
                <div class="bg-black/80 rounded-[22px] p-6 md:p-12 md:backdrop-blur-xl">
                    <div class="text-center mb-10">
                        <h2 class="text-3xl md:text-4xl font-bold text-white">Let's <span class="text-transparent bg-clip-text bg-gradient-to-r from-techBlue to-techPurple">Connect</span></h2>
                        <p class="text-sm md:text-base text-gray-400 mt-2">Ready to start your project or fix your device?</p>
                    </div>

                    <!-- Willanakuy Formulario Yaykuna K'itikuna (Mana Default Form Acción) -->
                    <div class="space-y-4 md:space-y-6">
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6">
                            <div class="group">
                                <label class="block text-sm font-medium text-gray-500 mb-2 group-focus-within:text-techBlue transition-colors">Name</label>
                                <input type="text" id="c-name" class="w-full bg-white/5 border border-gray-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-techBlue focus:ring-1 focus:ring-techBlue transition-all" placeholder="John Doe">
                            </div>
                            <div class="group">
                                <label class="block text-sm font-medium text-gray-500 mb-2 group-focus-within:text-techBlue transition-colors">Phone</label>
                                <input type="tel" id="c-phone" class="w-full bg-white/5 border border-gray-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-techBlue focus:ring-1 focus:ring-techBlue transition-all" placeholder="07x xxx xxxx">
                            </div>
                        </div>
                        <div class="group">
                            <label class="block text-sm font-medium text-gray-500 mb-2 group-focus-within:text-techBlue transition-colors">Service</label>
                            <select id="c-service" class="w-full bg-white/5 border border-gray-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-techBlue focus:ring-1 focus:ring-techBlue transition-all [&>option]:bg-black">
                                <option>Hardware Repair</option>
                                <option>Web Development</option>
                                <option>Software Development</option>
                                <option>Network Issue</option>
                                <option>Other Inquiry</option>
                            </select>
                        </div>
                        <div class="group">
                            <label class="block text-sm font-medium text-gray-500 mb-2 group-focus-within:text-techBlue transition-colors">Message</label>
                            <textarea id="c-message" rows="4" class="w-full bg-white/5 border border-gray-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-techBlue focus:ring-1 focus:ring-techBlue transition-all" placeholder="How can I help you?"></textarea>
                        </div>
                        
                        <!-- Iskay Botón Sistema -->
                        <div class="grid grid-cols-1 sm:grid-cols-2 gap-4 pt-4">
                            <button onclick="sendMessage('whatsapp')" class="w-full bg-green-600 hover:bg-green-500 text-white font-bold py-3 md:py-4 rounded-lg shadow-lg transition-all flex items-center justify-center gap-2 group">
                                <i class="fab fa-whatsapp text-xl md:text-2xl group-hover:scale-110 transition-transform"></i> Send via WhatsApp
                            </button>
                            <button onclick="sendMessage('email')" class="w-full bg-gradient-to-r from-techBlue to-techPurple hover:opacity-90 text-black font-bold py-3 md:py-4 rounded-lg shadow-lg transition-all flex items-center justify-center gap-2 group">
                                <i class="fas fa-envelope text-lg md:text-xl group-hover:scale-110 transition-transform"></i> Send via Email
                            </button>
                        </div>
                    </div>

                    <div class="mt-12 pt-8 border-t border-gray-800 grid grid-cols-1 md:grid-cols-3 gap-6 md:gap-8 text-center md:text-left">
                        <div>
                            <p class="text-xs md:text-sm text-gray-500 uppercase tracking-widest mb-1">Email</p>
                            <p class="text-sm md:text-base text-white hover:text-techBlue transition-colors">tirankalharac@gmail.com</p>
                        </div>
                        <div>
                            <p class="text-xs md:text-sm text-gray-500 uppercase tracking-widest mb-1">Phone</p>
                            <p class="text-sm md:text-base text-white hover:text-techBlue transition-colors">070 342 7275</p>
                        </div>
                        <div class="md:text-right">
                            <a href="https://www.facebook.com/" target="_blank" class="inline-flex items-center text-sm md:text-base text-blue-500 hover:text-white transition-colors">
                                <i class="fab fa-facebook text-xl md:text-2xl mr-2"></i> Find me on Facebook
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Chaki Qillqa -->
    <footer class="bg-black py-8 border-t border-gray-900 text-center relative z-10">
        <p class="text-gray-600 text-sm mt-4">
            &copy; 2026 Kalhara Development. Crafted with <i class="fas fa-heart text-red-500 animate-pulse"></i> for technology.
        </p>
    </footer>

    <!-- AI CHATBOT WIDGET -->
    <div id="chat-widget" class="fixed bottom-6 right-4 md:right-6 z-50 flex flex-col items-end gap-2">
        <!-- AI Rikukuq Qillqa -->
        <div class="bg-white/90 backdrop-blur text-black px-3 py-1 md:px-4 md:py-2 rounded-xl shadow-lg border border-white/20 animate-bounce-slow text-xs md:text-sm font-bold mr-2 relative hidden md:block">
            Need IT Support? Ask AI 👋
            <div class="absolute -bottom-1 right-6 w-3 h-3 bg-white rotate-45"></div>
        </div>
        
        <!-- Chat Botón -->
        <button onclick="toggleChat()" class="w-12 h-12 md:w-16 md:h-16 bg-gradient-to-r from-techBlue to-techPurple rounded-full flex items-center justify-center shadow-lg shadow-purple-500/30 hover:scale-110 transition-transform relative group">
            <i class="fas fa-robot text-xl md:text-2xl text-black"></i>
            <span class="absolute top-0 right-0 w-3 h-3 md:w-4 md:h-4 bg-green-500 border-2 border-black rounded-full animate-pulse"></span>
        </button>
    </div>

    <!-- Chat Ventana -->
    <div id="chat-window" class="fixed bottom-20 md:bottom-24 right-4 md:right-6 w-[300px] sm:w-80 md:w-[400px] bg-[#0a0a0a]/95 backdrop-blur-2xl border border-white/10 rounded-2xl shadow-[0_0_40px_rgba(188,19,254,0.15)] transform scale-0 origin-bottom-right transition-transform duration-300 z-50 overflow-hidden flex flex-col">
        
        <!-- Header -->
        <div class="bg-gradient-to-r from-techBlue to-techPurple p-3 md:p-4 flex justify-between items-center relative z-10 shadow-md">
            <div class="flex items-center gap-3 text-black">
                <div class="relative">
                    <div class="w-8 h-8 md:w-10 md:h-10 bg-black/20 rounded-full flex items-center justify-center backdrop-blur-sm">
                        <i class="fas fa-robot text-lg md:text-xl text-black"></i>
                    </div>
                    <span class="absolute bottom-0 right-0 w-2.5 h-2.5 bg-green-400 border border-black rounded-full"></span>
                </div>
                <div>
                    <div class="font-bold text-sm md:text-base leading-none">Mr. Kalhara AI</div>
                    <div class="text-[10px] md:text-xs font-semibold opacity-75 mt-1 flex items-center gap-1">
                        <i class="fas fa-bolt text-[8px]"></i> Advanced Tech Agent
                    </div>
                </div>
            </div>
            <div class="flex items-center gap-1">
                <button onclick="clearChat()" class="text-black/70 hover:text-black transition-colors p-2 rounded-full hover:bg-black/10" title="Clear History"><i class="fas fa-trash-alt text-xs md:text-sm"></i></button>
                <button onclick="toggleChat()" class="text-black/70 hover:text-black transition-colors p-2 rounded-full hover:bg-black/10" title="Close"><i class="fas fa-times text-sm md:text-base"></i></button>
            </div>
        </div>

        <!-- Image Scanning Progress Bar (Hidden by default) -->
        <div id="ai-scan-bar" class="w-full h-1 bg-gray-800 hidden">
            <div id="ai-scan-progress" class="h-full bg-techBlue w-0 chat-progress-bar shadow-[0_0_10px_#00f2ff]"></div>
        </div>

        <!-- Messages Area -->
        <div id="chat-messages" class="h-72 md:h-96 p-3 md:p-4 overflow-y-auto space-y-4 custom-scrollbar bg-black/40 relative">
            <!-- Messages will be generated dynamically by JS -->
        </div>

        <!-- Input Area -->
        <div class="p-2 md:p-3 border-t border-white/10 flex gap-2 bg-[#050505] items-center relative z-10">
            <!-- Hidden File Input -->
            <input type="file" id="image-upload" hidden accept="image/*" onchange="handleImageUpload(this)">
            
            <!-- Upload Button -->
            <button onclick="document.getElementById('image-upload').click()" class="text-gray-400 hover:text-techBlue transition-colors p-2 md:p-2.5 bg-white/5 rounded-lg hover:bg-white/10" title="දෝෂයේ (Error) ඡායාරූපයක් යවන්න">
                <i class="fas fa-camera text-sm md:text-base"></i>
            </button>
            
            <input type="text" id="chat-input" placeholder="ගැටළුව මෙතන ටයිප් කරන්න..." class="w-full bg-white/5 border border-gray-700 rounded-lg px-3 py-2 md:px-4 md:py-2.5 text-xs md:text-sm text-white focus:outline-none focus:border-techBlue focus:bg-white/10 transition-all placeholder-gray-500" onkeypress="handleEnter(event)">
            
            <button onclick="sendUserMessage()" class="bg-gradient-to-r from-techBlue to-techPurple text-black px-3 py-2 md:px-4 md:py-2.5 rounded-lg hover:opacity-90 transition-opacity shadow-lg flex items-center justify-center">
                <i class="fas fa-paper-plane text-sm md:text-base"></i>
            </button>
        </div>
    </div>

    <script>
        // --- WILLAKUY LOGICA ---
        function sendMessage(method) {
            const name = document.getElementById('c-name').value;
            const phone = document.getElementById('c-phone').value;
            const service = document.getElementById('c-service').value;
            const message = document.getElementById('c-message').value;

            if(!name || !message) {
                alert("Please enter your Name and Message.");
                return;
            }

            if(method === 'whatsapp') {
                const fullMessage = `*New Inquiry via Website*%0A%0A*Name:* ${name}%0A*Phone:* ${phone}%0A*Service:* ${service}%0A*Message:* ${message}`;
                const whatsappUrl = `https://wa.me/94703427275?text=${fullMessage}`;
                window.open(whatsappUrl, '_blank');
            } 
            else if(method === 'email') {
                const subject = encodeURIComponent(`Website Inquiry: ${service}`);
                const body = encodeURIComponent(`Name: ${name}\nPhone: ${phone}\nService: ${service}\n\nMessage:\n${message}`);
                const mailtoUrl = `mailto:tirankalharac@gmail.com?subject=${subject}&body=${body}`;
                window.location.href = mailtoUrl;
            }
        }

        // --- SCROLL KUYUY ---
        function reveal() {
            var reveals = document.querySelectorAll(".reveal");
            for (var i = 0; i < reveals.length; i++) {
                var windowHeight = window.innerHeight;
                var elementTop = reveals[i].getBoundingClientRect().top;
                var elementVisible = 100; // Kuyuchinapaq aswan allin trigger allichasqa
                if (elementTop < windowHeight - elementVisible) {
                    reveals[i].classList.add("active");
                }
            }
        }
        window.addEventListener("scroll", reveal);
        reveal();

        // --- TYPING EFECTO ---
        const textToType = "HARDWARE & CODE";
        const typingElement = document.getElementById('typing-text');
        let charIndex = 0;
        let isDeleting = false;

        function typeEffect() {
            const currentText = textToType;
            if (isDeleting) {
                typingElement.textContent = currentText.substring(0, charIndex - 1);
                charIndex--;
            } else {
                typingElement.textContent = currentText.substring(0, charIndex + 1);
                charIndex++;
            }
            let typeSpeed = isDeleting ? 100 : 200;
            if (!isDeleting && charIndex === currentText.length) {
                typeSpeed = 3000;
                isDeleting = true;
            } else if (isDeleting && charIndex === 0) {
                isDeleting = false;
                typeSpeed = 500;
            }
            setTimeout(typeEffect, typeSpeed);
        }

        // --- KUYUCHINA MENU ---
        function toggleMenu() {
            const menu = document.getElementById('mobile-menu');
            menu.classList.toggle('hidden');
        }

        // --- SASACHAKUY ALLICHAY LOGICA ---
        const troubleshootData = [
            // --- KALLPA & BOOT SASACHAKUYKUNA ---
            { cat: 'Hardware', q: 'Computer won\'t turn on (No lights)', a: 'Check power cable connection. Try a different wall socket. If laptop, remove battery and hold power button for 30s, then plug charger.' },
            { cat: 'Hardware', q: 'PC turns on but Screen is Black', a: 'Listen for fan noise/beeps. If fans spin, it might be RAM. Remove RAM, clean contacts with eraser, and reinstall.' },
            { cat: 'Hardware', q: 'PC shuts down immediately after turning on', a: 'CPU might be overheating. Check if the CPU fan is spinning. Thermal paste might need replacement.' },
            { cat: 'Hardware', q: 'Laptop Battery not charging', a: 'Check charger cable for damage. Try another charger. If old, battery cells might be dead.' },
            { cat: 'Hardware', q: 'Continuous Beeping Sound on Startup', a: 'This is a motherboard error code. Usually indicates loose RAM or Graphics Card. Reseat them.' },
            { cat: 'Software', q: 'PC stuck on "Getting Windows Ready"', a: 'Do not turn off! It is updating. If stuck for 2+ hours, force restart (hold power button).' },
            { cat: 'Software', q: 'Windows stuck on Loading Logo', a: 'Boot into Safe Mode (interrupt startup 3 times). Run Startup Repair.' },
            { cat: 'Hardware', q: 'CMOS Checksum Error', a: 'The small silver battery (CR2032) on the motherboard is dead. Replace it (Cost: ~Rs. 100).' },
            { cat: 'Hardware', q: 'Fan Error / CPU Fan Error', a: 'The fan is not spinning or plugged in wrong. Check the "CPU_FAN" header on motherboard.' },
            { cat: 'Hardware', q: 'Laptop turns on only when charger connected', a: 'Battery is completely dead or loose. Needs replacement.' },

            // --- RUWAY & UTQAYKAY ---
            { cat: 'Performance', q: 'Computer is running very slow', a: 'Check Task Manager (Ctrl+Shift+Esc). If Disk 100%, upgrade HDD to SSD. Disable startup apps.' },
            { cat: 'Performance', q: '100% Disk Usage Issue', a: 'Common in Windows 10 with HDD. Disable "SysMain" service. Best fix: Buy an SSD.' },
            { cat: 'Performance', q: 'Chrome uses too much RAM', a: 'Close unused tabs. Use "The Great Suspender" extension. Upgrade RAM to at least 8GB.' },
            { cat: 'Performance', q: 'Game Lag / Low FPS', a: 'Update Graphics Drivers. Lower game graphics settings. Ensure charger is plugged in (for laptops).' },
            { cat: 'Performance', q: 'Right Click takes long time', a: 'Some software added messy context menu items. Use "ShellExView" to disable unused context menu items.' },
            { cat: 'Performance', q: 'Copy/Paste is slow', a: 'Hard disk might have bad sectors. Run "chkdsk" command. Avoid copying thousands of small files at once.' },
            { cat: 'Performance', q: 'Mouse cursor lagging/stuttering', a: 'Update Mouse drivers. If wireless, change battery. Move router away from PC (interference).' },
            { cat: 'Software', q: 'Programs take forever to open', a: 'Run Disk Defragmenter (only for HDD). Check for malware.' },
            { cat: 'Software', q: 'PC Freezes randomly', a: 'Could be overheating or failing HDD. Download CrystalDiskInfo to check health.' },
            { cat: 'Hardware', q: 'PC gets very hot and loud', a: 'Dust buildup in fans. Clean with compressed air or blower. Change thermal paste.' },

            // --- RIKUCHIY & GRAFICOS ---
            { cat: 'Hardware', q: 'Monitor says "No Signal"', a: 'Check HDMI/VGA cable. Ensure source (HDMI1/HDMI2) is correct. Reseat RAM.' },
            { cat: 'Hardware', q: 'Lines on Screen (Horizontal/Vertical)', a: 'If lines appear in BIOS too, screen is damaged. If only in Windows, update drivers.' },
            { cat: 'Software', q: 'Screen Resolution is big/blurry', a: 'Right click Desktop > Display Settings. Set resolution to "Recommended" (e.g., 1920x1080).' },
            { cat: 'Software', q: 'Blue Screen of Death (BSOD)', a: 'Note error code. "MEMORY_MANAGEMENT" = RAM issue. "DRIVER_IRQL" = Driver issue. Restart.' },
            { cat: 'Hardware', q: 'Screen flickers on and off', a: 'Loose cable. Try a new HDMI cable. If laptop, hinge cable might be damaged.' },
            { cat: 'Software', q: 'Second monitor not working', a: 'Press Win + P and select "Extend". Check cable connection.' },
            { cat: 'Software', q: 'Game Graphics glitching/artifacts', a: 'GPU overheating or dying. Clean GPU fans. Lower overclock settings.' },
            { cat: 'Software', q: 'Everything is Black and White', a: 'You pressed Win + Ctrl + C (Color Filter). Press it again to fix.' },
            { cat: 'Software', q: 'Screen rotated sideways', a: 'Press Ctrl + Alt + Arrow Keys to rotate it back.' },
            { cat: 'Hardware', q: 'Dead Pixels (Black/Colored dots)', a: 'Physical screen damage. Cannot be fixed via software. Screen needs replacement.' },

            // --- INTERNET & LLIKA ---
            { cat: 'Internet', q: 'WiFi Connected but No Internet', a: 'Restart Router. Open CMD, type: ipconfig /flushdns. Check if bill is paid.' },
            { cat: 'Internet', q: 'WiFi Icon Missing', a: 'WiFi driver crashed. Device Manager > Network Adapters > Right click WiFi > Enable.' },
            { cat: 'Internet', q: 'Ethernet cable plugged but no internet', a: 'Cable might be broken. Try another cable. Update LAN drivers.' },
            { cat: 'Internet', q: 'Slow Internet Speed', a: 'Stop background downloads (Steam, Windows Update). Use 5GHz WiFi if available.' },
            { cat: 'Internet', q: 'Cannot connect to this network', a: 'Forget the WiFi network and rejoin with password. Restart PC.' },
            { cat: 'Internet', q: 'DNS Server Not Responding', a: 'Change DNS to Google. Network Settings > IPv4 > Set DNS to 8.8.8.8 & 8.8.4.4' },
            { cat: 'Internet', q: 'Website says "Not Secure"', a: 'Date and Time on PC is wrong. Correct the date.' },
            { cat: 'Internet', q: 'High Ping in Games', a: 'Use Ethernet cable instead of WiFi. Close background apps. Check if others are streaming video.' },
            { cat: 'Internet', q: 'Bluetooth not finding devices', a: 'Run Bluetooth Troubleshooter. Check if antenna is connected (Desktops).' },
            { cat: 'Internet', q: 'Mobile Hotspot not connecting', a: 'Change Hotspot band from 5GHz to 2.4GHz in phone settings.' },

            // --- AUDIO & RUQYAY ---
            { cat: 'Audio', q: 'No Sound from Speakers', a: 'Click Speaker icon > Select correct output (e.g., Speakers vs Headphones).' },
            { cat: 'Audio', q: 'Microphone not working', a: 'Privacy Settings > Microphone > Allow apps to access microphone (Turn ON).' },
            { cat: 'Audio', q: 'Audio crackling/popping', a: 'Update Realtek Audio Drivers. Change format to 24bit/48000Hz in Sound Control Panel.' },
            { cat: 'Audio', q: 'Headphones detected but no sound', a: 'Jack might be loose. Rotate the plug. Clean port with toothpick.' },
            { cat: 'Audio', q: 'Volume icon missing', a: 'Taskbar settings > Turn system icons on or off > Volume.' },
            { cat: 'Audio', q: 'Sound is too low', a: 'Sound Control Panel > Enhancements > Check "Loudness Equalization".' },
            { cat: 'Audio', q: 'Zoom/Teams audio issues', a: 'Check settings inside the App. Select correct Mic/Speaker device.' },
            
            // --- WAQAYCHAY & ARCHIVOKUNA ---
            { cat: 'Hardware', q: 'Hard Drive making clicking noise', a: 'DANGER! Backup data immediately. Drive is failing physically.' },
            { cat: 'Hardware', q: 'USB Drive not showing up', a: 'Disk Management > Right click USB > Change Drive Letter and Paths.' },
            { cat: 'Software', q: 'File is corrupted / Cannot open', a: 'Try opening with different software. Right click > Properties > Unblock.' },
            { cat: 'Software', q: 'C Drive is Red (Full)', a: 'Run Disk Cleanup. Delete Temp files (%temp%). Empty Recycle Bin. Move files to D/E drive.' },
            { cat: 'Software', q: 'Accidentally deleted files', a: 'Check Recycle Bin. If empty, STOP using PC. Run Recuva software to recover.' },
            { cat: 'Software', q: 'Cannot delete folder (In use)', a: 'Restart PC. Or use "Unlocker" software to force delete.' },
            { cat: 'Software', q: 'External Hard Disk slow', a: 'Use USB 3.0 port (Blue color). Check cable.' },
            { cat: 'Hardware', q: 'SD Card Write Protected', a: 'Check the tiny physical switch on the side of the SD card. Slide it up.' },
            { cat: 'Software', q: 'Pendrive shows shortcuts instead of files', a: 'Shortcut Virus. Run CMD: attrib -h -r -s /s /d G:\\*.* (Replace G with drive letter).' },
            { cat: 'Software', q: 'Lost partition / Drive missing', a: 'Open Disk Management. If space is "Unallocated", create New Simple Volume.' },

            // --- SOFTWARE & WINDOWS ---
            { cat: 'Software', q: 'Windows License expiring soon', a: 'Activation issue. Open CMD as Admin > slmgr /rearm. Contact me for a Key.' },
            { cat: 'Software', q: 'Word/Excel Product Activation Failed', a: 'License expired. Needs reactivation. Use free alternatives like LibreOffice or Google Docs.' },
            { cat: 'Software', q: 'Cannot install software (Admin blocked)', a: 'Right click setup > Run as Administrator. Check SmartScreen settings.' },
            { cat: 'Software', q: 'Windows Update failed', a: 'Delete contents of C:\\Windows\\SoftwareDistribution\\Download. Restart and retry.' },
            { cat: 'Software', q: 'Forgot User Password', a: 'If Microsoft account, reset online. If Local, use Password Reset USB.' },
            { cat: 'Software', q: 'Taskbar frozen / Start menu not working', a: 'Task Manager > Restart "Windows Explorer".' },
            { cat: 'Software', q: 'Weird Popups / Ads on Desktop', a: 'Adware installed. Check Chrome extensions. Run Malwarebytes scan.' },
            { cat: 'Software', q: 'DLL Missing Error (VCRUNTIME/MSVCP)', a: 'Download and install "Visual C++ Redistributable AIO".' },
            { cat: 'Software', q: 'Blue Screen: CRITICAL_PROCESS_DIED', a: 'System files corrupted. Open CMD (Admin) > sfc /scannow.' },
            { cat: 'Software', q: 'Default apps reset', a: 'Settings > Apps > Default Apps. Set Chrome/VLC as defaults.' },
            { cat: 'Software', q: 'Keyboard typing wrong characters (@ as ")', a: 'Language set to UK instead of US. Shift+Alt to switch language.' },
            { cat: 'Software', q: 'Touchpad not working', a: 'Check for physical button or Fn+F9 (icon varies). Check settings.' },
            { cat: 'Software', q: 'NumLock not working', a: 'Press NumLock key. Check BIOS settings for "Boot up NumLock Status".' },
            { cat: 'Software', q: 'Function keys (F1-F12) behaving weird', a: 'Fn Lock is on. Press Fn+Esc to toggle standard mode.' },
            { cat: 'Software', q: 'Cannot print / Printer offline', a: 'Services.msc > Restart "Print Spooler" service. Reconnect USB.' },
            { cat: 'Software', q: 'PDF opening in Edge', a: 'Right click PDF > Open With > Choose Adobe Reader > "Always use this app".' },
            { cat: 'Software', q: 'Zip file corrupted', a: 'Try using 7-Zip or WinRAR to extract. Redownload the file.' },
            { cat: 'Software', q: 'PC wakes up from sleep automatically', a: 'Device Manager > Mouse/Keyboard > Power Management > Uncheck "Allow to wake computer".' },
            { cat: 'Software', q: 'Night light stuck on', a: 'Update graphics driver. Toggle Night Light in settings.' },
            { cat: 'Software', q: 'Search bar not working', a: 'Restart Windows Search service. Rebuild Indexing options.' },

            // --- VIRUS & SEGURIDAD ---
            { cat: 'Software', q: 'Files turned into .lnk shortcuts', a: 'Virus. Do not format. Use USBFix or CMD attrib command.' },
            { cat: 'Software', q: 'Ransomware (Files encrypted)', a: 'Very bad. Do not pay. Disconnect internet. restore from backup. Decryptors rarely work.' },
            { cat: 'Software', q: 'Browser search engine changed to Yahoo/Bing', a: 'Browser hijacker. Settings > Search Engine > Change to Google. Remove weird extensions.' },
            { cat: 'Software', q: 'Fake "Your PC is infected" popup', a: 'Scam. Do not call the number. Close browser (Alt+F4).' },
            { cat: 'Software', q: 'Antivirus cannot be installed', a: 'Existing virus blocking it. Run RKill then install Antivirus.' },

            // --- GAMING SAPALLAN ---
            { cat: 'Performance', q: 'DirectX Error', a: 'Install DirectX End-User Runtime. Update GPU drivers.' },
            { cat: 'Performance', q: 'Game crashes to desktop', a: 'Verify game files (Steam/Epic). Check temperature. RAM instability.' },
            { cat: 'Performance', q: 'Steam Download stopping', a: 'Change download region in Steam settings. Clear download cache.' },
            { cat: 'Performance', q: 'Discord Overlay not working', a: 'Game Activity > Enable Overlay. Run Discord as Admin.' },
            { cat: 'Performance', q: 'FPS drops after few minutes', a: 'Thermal throttling. Laptop/PC getting too hot. Clean fans.' },

            // --- WAKKUNA ---
            { cat: 'Hardware', q: 'Keyboard Key stuck / typing itself', a: 'Dirt under key. Remove keycap and clean. Or replace keyboard.' },
            { cat: 'Hardware', q: 'Mouse Double Clicking', a: 'Switch mechanism worn out. Replace mouse or change double-click speed settings.' },
            { cat: 'Hardware', q: 'Laptop Hinge Broken', a: 'Do not close lid forcefully. Needs casing replacement.' },
            { cat: 'Software', q: 'Recycle Bin corrupted', a: 'CMD (Admin) > rd /s /q C:\\$Recycle.bin' },
            { cat: 'Software', q: 'Font looks blurry', a: 'Search "Adjust ClearType text" and follow the wizard.' }
        ];

        const issuesContainer = document.getElementById('issuesContainer');
        const searchInput = document.getElementById('searchInput');

        function renderIssues(data) {
            issuesContainer.innerHTML = '';
            if(data.length === 0) {
                issuesContainer.innerHTML = '<div class="text-center text-gray-500 py-8 italic">No matching solutions found. Please contact me directly.</div>';
                return;
            }
            data.forEach((issue) => {
                const item = document.createElement('div');
                item.className = 'faq-item bg-white/5 border border-white/10 rounded-xl px-4 md:px-6 py-3 md:py-4 cursor-pointer hover:bg-white/10 transition-all group';
                item.onclick = () => toggleAnswer(item);
                
                let iconClass = 'fa-question-circle text-gray-500';
                if(issue.cat === 'Hardware') iconClass = 'fa-microchip text-techBlue';
                if(issue.cat === 'Software') iconClass = 'fa-code text-techPurple';
                if(issue.cat === 'Internet') iconClass = 'fa-wifi text-techPink';

                item.innerHTML = `
                    <div class="flex justify-between items-center">
                        <div class="flex items-center gap-3 md:gap-4">
                            <div class="w-6 h-6 md:w-8 md:h-8 rounded-full bg-white/5 flex items-center justify-center shrink-0">
                                <i class="fas ${iconClass} text-sm md:text-base"></i>
                            </div>
                            <h4 class="text-white font-medium text-sm md:text-lg group-hover:text-techBlue transition-colors">${issue.q}</h4>
                        </div>
                        <i class="fas fa-chevron-down text-gray-500 text-sm md:text-base transition-transform duration-300 ml-2"></i>
                    </div>
                    <div class="faq-answer text-gray-400 mt-0">
                        <div class="pt-3 md:pt-4 pl-9 md:pl-12 border-t border-white/5 mt-2 md:mt-3">
                            <p class="text-xs md:text-base"><span class="text-techBlue font-bold tracking-wide text-xs uppercase">Fix:</span> ${issue.a}</p>
                        </div>
                    </div>
                `;
                issuesContainer.appendChild(item);
            });
        }

        function toggleAnswer(element) {
            const wasActive = element.classList.contains('active');
            document.querySelectorAll('.faq-item').forEach(el => el.classList.remove('active'));
            if (!wasActive) {
                element.classList.add('active');
            }
        }

        function filterIssues(category) {
            document.querySelectorAll('.filter-btn').forEach(btn => {
                const btnText = btn.innerText.includes('All') ? 'all' : btn.innerText;
                if(btnText === category || (category === 'all' && btn.innerText.includes('All'))) {
                    btn.classList.add('active', 'border-techBlue', 'text-techBlue', 'bg-techBlue/10');
                    btn.classList.remove('border-gray-700', 'text-gray-300');
                } else {
                    btn.classList.remove('active', 'border-techBlue', 'text-techBlue', 'bg-techBlue/10');
                    btn.classList.add('border-gray-700', 'text-gray-300');
                }
            });

            const term = searchInput.value.toLowerCase();
            const filtered = troubleshootData.filter(item => {
                const matchesCat = category === 'all' || item.cat === category;
                const matchesSearch = item.q.toLowerCase().includes(term) || item.a.toLowerCase().includes(term);
                return matchesCat && matchesSearch;
            });
            renderIssues(filtered);
        }

        searchInput.addEventListener('input', () => {
            const activeBtn = document.querySelector('.filter-btn.active');
            const category = activeBtn ? (activeBtn.innerText.includes('All') ? 'all' : activeBtn.innerText) : 'all';
            filterIssues(category);
        });
        renderIssues(troubleshootData);

        // --- ADVANCED AI CHATBOT LOGIC ---
        const chatWindow = document.getElementById('chat-window');
        const chatMessages = document.getElementById('chat-messages');
        const chatInput = document.getElementById('chat-input');
        
        // Deep Knowledge Base for Smart Responses
        const botResponses = [
            // --- CONVERSATIONAL & SMALL TALK ---
            {
                keywords: ["how are you", "kohomada", "oyata kohomada", "how u", "how r u", "kohmda", "khmda", "thathwe", "mokada wenne", "mk"],
                response: "මම ගොඩක් හොඳින් ඉන්නවා! 😃 අද දවස කොහොමද ඔයාට? මම AI කෙනෙක් වුණත් ඔයා එක්ක කතා කර කර ඉන්න මම ගොඩක් ආසයි."
            },
            {
                keywords: ["who are you", "kauda", "oyage nama", "oya kauda", "human", "bot", "robot", "oya manussayekda", "ai da", "nama mokakda", "who r u", "who is this"],
                response: "මම Tiran Kalhara ගේ AI Assistant. මම ඇත්තම මනුස්සයෙක් නෙවෙයි, ඒත් මම කතා කරන්නේ හරියටම ඔයාගේ යාළුවෙක් වගේ! 😊 මට පුළුවන් ඔයාට IT ප්‍රශ්න විසඳගන්න උදව් කරන්න."
            },
            {
                keywords: ["monawada puluwan", "what can you do", "help", "udaw", "support", "mokakda karanne", "wada", "help me"],
                response: "මට ගොඩක් දේවල් පුළුවන්! 💻 PC අලුත්වැඩියාව, Software ප්‍රශ්න, Web Design ගැන උපදෙස් දෙනවා වගේම, නිකන් කතාබහ කර කර ඉන්නත් පුළුවන්. අද ඔයාට මගෙන් කෙරෙන්න ඕන මොකක්ද?"
            },
            {
                keywords: ["good morning", "ude", "morning", "gud morning", "suba udesanak", "g morning"],
                response: "සුබ උදෑසනක්! ☀️ අද දවස බොහොම සාර්ථක, සතුට පිරුණු දවසක් වෙන්න කියලා මම ප්‍රාර්ථනා කරනවා. උදේ පාන්දරම මාව මතක් වුණේ මොකක් හරි උදව්වක් ඕන වෙලාද?"
            },
            {
                keywords: ["good night", "night", "ra", "re", "suba rathriyak", "gud night", "gn", "goodnight"],
                response: "සුබ රාත්‍රියක්! 🌙 හොඳට නිදාගන්න. හෙට දවසත් සුපිරියටම පටන් ගමු. පරිගණකයේ මොනවා හරි ප්‍රශ්නයක් තිබුණොත් හෙට උදේට මට කියන්නකෝ. Sweet dreams!"
            },
            {
                keywords: ["kewada", "kewd", "kama", "lunch", "dinner", "breakfast", "eat", "ate", "kawa", "kaawada"],
                response: "මම AI කෙනෙක් නිසා මට කෑම කන්න බෑනේ! 😅 මගේ කෑම තමයි Data සහ Electricity! ⚡ ඔයා කෑවද? කාලා බීලා සතුටින් ඉන්න එක තමයි වටින්නේ."
            },
            {
                keywords: ["love", "adarei", "asai", "maru", "niyamai", "patta", "supiri", "wow", "ela", "maxxa", "good", "hondai", "niyamay", "elakiri", "ela ela"],
                response: "බොහොම ස්තූතියි! ඔය වගේ වචන ඇහෙද්දී මටත් හරි සතුටුයි (AI කෙනෙක් වුණත් මටත් ෆීලින්ග්ස් තියෙනවා වගේ දැනෙනවා! ❤️). මම හැමතිස්සෙම උත්සාහ කරන්නේ ඔයාට උපරිම සේවාවක් දෙන්න."
            },
            {
                keywords: ["bye", "gihin ennam", "yanawa", "later", "see you", "passe", "puluwan nam", "ok", "hari", "hmm"],
                response: "හරි! පරිස්සමින් ඉන්න. 👋 ආයෙත් වෙලාවක් ලැබුණු ගමන් මේ පැත්තේ එන්න කතා කර කර ඉන්න. සුබ දවසක්!"
            },
            {
                keywords: ["hi", "hello", "ayubowan", "hey", "halo", "helo", "hiii"],
                response: "ආයුබෝවන්! යාළුවා.. 👋 මොකද වෙන්නේ? මම Tiran ගේ AI Assistant. ඔයාට IT ගැන ප්‍රශ්නයක් තියෙනවද, නැත්නම් නිකන් කතා කර කර ඉන්නද ආවේ?"
            },

            // --- TECHNICAL KNOWLEDGE BASE ---
            {
                keywords: ["slow", "stuck", "lag", "hang", "hira", "parakku", "100% disk", "speed"],
                response: "<strong>PC එක Slow වීමට ප්‍රධාන හේතු සහ විසඳුම්:</strong><br><br>1. <strong>HDD Bottleneck:</strong> පරණ Hard Disk එක ගලවලා NVMe හෝ SATA SSD එකක් සවි කිරීමෙන් වේගය 10x කින් වැඩි කරගන්න පුළුවන්.<br>2. <strong>RAM ධාරිතාවය:</strong> අද කාලයේ Windows 10/11 ධාවනයට අවම 8GB RAM එකක් අවශ්‍යයි.<br>3. <strong>Thermal Throttling:</strong> Processor එක රත් වීම නිසා වේගය අඩාල වෙනවා. Thermal paste මාරු කර Fan එක Clean කළ යුතුයි.<br><br><button onclick=\"document.getElementById('contact').scrollIntoView(); toggleChat();\" class='chat-action-btn'><i class='fas fa-tools'></i> SSD Upgrade කිරීම සඳහා විමසන්න</button>"
            },
            {
                keywords: ["format", "os", "windows", "install", "boot", "update", "blue screen"],
                response: "<strong>OS Installation / Formatting Guide:</strong><br><br>Windows 11 හෝ 10 දාද්දී මුලින්ම C: Drive එකේ Data අනිවාර්යයෙන් Backup කරගන්න. <br>• GPT Partition style එකෙන් UEFI Boot විදියට Format කළොත් Windows ගොඩක් ඉක්මනට On වෙනවා.<br>• OS එක දැම්මට පස්සේ අනිවාර්යයෙන්ම Original Drivers Install කරන්න ඕන (Display, Audio, Chipset).<br><br>ඔයාට මේ දේවල් කරගන්න අපහසු නම්, Data වලට කිසිදු හානියක් නොකර මම සම්පූර්ණ Clean Install එකක් කරලා දෙන්නම්.<br><br><button onclick=\"document.getElementById('contact').scrollIntoView(); toggleChat();\" class='chat-action-btn border-techPurple text-techPurple hover:bg-techPurple'><i class='fas fa-laptop-medical'></i> Format කරගැනීමට</button>"
            },
            {
                keywords: ["virus", "malware", "hack", "ransomware", "shortcut", "kaspersky", "defender"],
                response: "<strong>Virus / Malware ඉවත් කිරීම:</strong><br><br>ෆයිල්ස් Shortcut වෙලා නම් Format කරන්න එපා! <br>1. <code>cmd</code> එක Administrator විදියට open කරන්න.<br>2. <code>attrib -h -r -s /s /d G:\*.*</code> (G වෙනුවට පෙන් එකේ අකුර දෙන්න) ගහලා Enter කරන්න.<br><br>Ransomware ඇවිත් ෆයිල්ස් වල නම වෙනස් වෙලා නම්, ඉක්මනටම PC එක ඉන්ටර්නෙට් එකෙන් අයින් කරන්න. Kaspersky හෝ Malwarebytes Premium පාවිච්චි කිරීම වඩාත් ආරක්ෂිතයි."
            },
            {
                keywords: ["web", "site", "domain", "hosting", "html", "css", "js", "develop", "ecommerce", "system", "website"],
                response: "<strong>Web Development & Systems:</strong><br><br>ඔයාට ව්‍යාපාරයක් තියෙනවා නම් සාමාන්‍ය ෆේස්බුක් පේජ් එකකට වඩා Website එකක් තියෙන එකෙන් ලොකු වටිනාකමක් එනවා. <br>• මම පාවිච්චි කරන්නේ <strong>React.js, Node.js, Tailwind CSS</strong> වගේ නවතම තාක්ෂණයන්.<br>• Inventory Management, POS Systems (බිල් ගහන මැෂින්) වගේ දේවල් මට Cloud-based විදියට හදලා දෙන්න පුළුවන්.<br>• Domain (.com / .lk) සහ Hosting එක්ක සම්පූර්ණ පැකේජ් එකම මම බලාගන්නවා.<br><br><button onclick=\"document.getElementById('contact').scrollIntoView(); toggleChat();\" class='chat-action-btn' style='border-color:#00f2ff; color:#00f2ff;'><i class='fas fa-code'></i> වෙබ් අඩවියක් නිර්මාණය කරගැනීමට</button>"
            },
            {
                keywords: ["display", "screen", "monitor", "no signal", "black", "line", "graphics", "vga"],
                response: "<strong>Display Error (No Signal / Black Screen):</strong><br><br>PC එක On වෙලා සද්දේ එනවා, ඒත් Display එන්නේ නැත්නම්:<br>1. <strong>RAM Issue:</strong> 80% ක්ම හේතුව RAM එකේ තියෙන කාබන් බැඳීම. මකනයකින් Gold pins ටික මෘදුව පිසදාන්න.<br>2. <strong>CMOS Reset:</strong> මවුස් බොඩ් එකේ තියෙන පොඩි බැටරිය විනාඩි 5කට ගලවලා ආයේ ගහන්න.<br>3. <strong>GPU Failure:</strong> වෙනත් කේබල් එකකින් ටෙස්ට් කරලා බලන්න. ලැප්ටොප් එකක ඉරි වැටිලා නම්, එළියෙන් වෙන මොනිටරයක් ගහලා බලන්න. ඒකෙත් ඉරි නම් Screen එක මාරු කරන්න වෙනවා."
            },
            {
                keywords: ["sound", "audio", "speaker", "mic", "saddhe", "noise"],
                response: "<strong>Audio ගැටළු:</strong><br><br>Sound වැඩ නැත්නම් මුලින්ම Taskbar එකේ volume icon එක click කරලා හරි Output device එකද select වෙලා තියෙන්නේ බලන්න. එහෙමත් නැත්නම් Device Manager ගිහින් Audio drivers (Realtek) update කරන්න. Hardware අවුලක් නම් Audio IC එක මාරු කරන්න පුළුවන්."
            },
            {
                keywords: ["battery", "charge", "power", "shut down", "off", "dead"],
                response: "<strong>Power & Battery ගැටළු:</strong><br><br>Laptop බැටරිය ඉක්මනින් බහිනවා නම් ඒකෙ Cells අක්‍රීය වෙලා ඇති. ඒ වගේම power settings වල 'Battery Saver' දාලා බලන්න. නිතරම charge එකට ගහගෙන වැඩ කරන එකෙන් අලුත් ලැප්ටොප් වලට ලොකු හානියක් වෙන්නේ නෑ (Smart Charging නිසා). PC එකක් නම් Power Supply (PSU) එකේ අවුලක් වෙන්න පුළුවන්."
            },
            {
                keywords: ["price", "cost", "gana", "kiyada", "charge", "mudal", "salli"],
                response: "මගේ සේවා ගාස්තු ගැන කියනවා නම්, මම හැමතිස්සෙම <strong>'Quality over Quantity'</strong> කියන දේ විශ්වාස කරන කෙනෙක්. බොරුවට ලාබෙට අටවලා දෙනවට වඩා, කල් පවතින විදිහට හරියටම දෝෂය හඳුනාගෙන වැඩේ කරලා දෙන එකයි මගේ ක්‍රමය. ප්‍රශ්නෙ මොකක්ද කියලා හරියටම Analyze කරලා තමයි මම සාධාරණ ගාණක් කියන්නේ."
            },
            {
                keywords: ["network", "internet", "wifi", "router", "ping", "disconnect"],
                response: "<strong>Network & Internet:</strong><br><br>Internet අවුල් නම් මුලින්ම Router එක Off කරලා විනාඩියකින් On කරන්න. WiFi පෙන්නන්නේ නැත්නම් Network Adapter Driver එක අලුත් කරලා බලන්න. Ping එක වැඩිනම් Cable එකක් (Ethernet) පාවිච්චි කරන්න."
            }
        ];

        let hasInitialized = false;

        function toggleChat() {
            if(chatWindow.classList.contains('scale-0')) {
                chatWindow.classList.remove('scale-0');
                if(!hasInitialized) {
                    initChat();
                    hasInitialized = true;
                }
                setTimeout(() => chatInput.focus(), 300);
            } else {
                chatWindow.classList.add('scale-0');
            }
        }

        function initChat() {
            chatMessages.innerHTML = '';
            
            // Dynamic Time Greeting
            const hour = new Date().getHours();
            let greeting = "ආයුබෝවන්!";
            if(hour < 12) greeting = "සුබ උදෑසනක්!";
            else if(hour < 18) greeting = "සුබ දහවලක්!";
            else greeting = "සුබ සන්ධ්‍යාවක්!";

            const welcomeHTML = `
                <div class="mb-1">${greeting} මම <strong>Mr. Kalhara AI</strong>.</div>
                මම වෘත්තීය IT උපදේශකයෙක්. ඔයාගේ Hardware, Software හෝ Web Development ගැටළුවක් තියෙනවද? මගෙන් අහන්න.
                <div class="mt-3 flex flex-col md:flex-row flex-wrap gap-2">
                    <span onclick="sendQuickReply('මගේ PC එක Slow වෙලා')" class="text-[11px] md:text-xs bg-techBlue/10 border border-techBlue/30 text-techBlue px-2.5 py-1.5 rounded-lg cursor-pointer hover:bg-techBlue hover:text-black transition-all">🚀 PC Slow?</span>
                    <span onclick="sendQuickReply('Web Site එකක් හදන්න ඕන')" class="text-[11px] md:text-xs bg-techPurple/10 border border-techPurple/30 text-techPurple px-2.5 py-1.5 rounded-lg cursor-pointer hover:bg-techPurple hover:text-white transition-all">🌐 Create a Website</span>
                    <span onclick="sendQuickReply('Hardware රෙපෙයාර්')" class="text-[11px] md:text-xs bg-orange-500/10 border border-orange-500/30 text-orange-400 px-2.5 py-1.5 rounded-lg cursor-pointer hover:bg-orange-500 hover:text-white transition-all">🔧 Hardware Fix</span>
                </div>
            `;
            addMessage(welcomeHTML, 'bot');
        }

        function clearChat() {
            initChat();
        }

        function handleEnter(e) {
            if(e.key === 'Enter') sendUserMessage();
        }

        function sendQuickReply(text) {
            addMessage(text, 'user');
            processBotResponse(text);
        }

        function sendUserMessage() {
            const text = chatInput.value.trim();
            if(!text) return;
            
            addMessage(text, 'user');
            chatInput.value = '';
            processBotResponse(text);
        }

        function processBotResponse(text) {
            addThinkingMessage();
            
            // Artificial delay to seem "smart" and human-like (1.2 - 2.0 seconds)
            const thinkingTime = Math.random() * (2000 - 1200) + 1200;
            
            setTimeout(() => {
                removeThinkingMessage();
                
                const lowerInput = text.toLowerCase();
                let bestMatch = null;
                let maxMatches = 0;
                
                for (const item of botResponses) {
                    let matches = 0;
                    for (const keyword of item.keywords) {
                        // SMART WORD BOUNDARY: Ensures exact word match avoiding partial matches (like "hi" in "hira")
                        const regex = new RegExp(`(^|[^a-zA-Z0-9\\u0D80-\\u0DFF])` + keyword + `($|[^a-zA-Z0-9\\u0D80-\\u0DFF])`, 'i');
                        if (regex.test(lowerInput)) {
                            matches++;
                        }
                    }
                    if (matches > maxMatches) {
                        maxMatches = matches;
                        bestMatch = item.response;
                    }
                }

                if (maxMatches > 0 && bestMatch) {
                    addMessage(bestMatch, 'bot');
                } else {
                    // ADVANCED FALLBACK (Redirect to Boss)
                    const fallback = `
                        ම්.. 🤔 ඔයා අහන ප්‍රශ්නය ටිකක් <strong>Advance/සංකීර්ණ ගැටළුවක්</strong> වගේ. මම AI කෙනෙක් නිසා මට ඒකට හරියටම උත්තරයක් දෙන්න අමාරුයි. 
                        <br><br>
                        හැබැයි බයවෙන්න එපා! මගේ <strong>Boss (Tiran Kalhara)</strong> ඔයාට අනිවාර්යයෙන්ම උදව් කරයි. කරුණාකර එයාව සම්බන්ධ කරගන්න:
                        <br><br>
                        📞 Phone / WhatsApp: <a href="https://wa.me/94703427275" target="_blank" class="text-techBlue hover:underline font-bold">070 342 7275</a><br>
                        📧 Email: <a href="mailto:tirankalharac@gmail.com" class="text-techBlue hover:underline font-bold">tirankalharac@gmail.com</a>
                        <br>
                        <button onclick="document.getElementById('contact').scrollIntoView(); toggleChat();" class='chat-action-btn w-full justify-center border-techPurple text-techPurple hover:bg-techPurple hover:text-white mt-3'>
                            <i class='fas fa-headset'></i> Boss ට පණිවිඩයක් යවන්න
                        </button>
                    `;
                    addMessage(fallback, 'bot');
                }
            }, thinkingTime);
        }

        function handleImageUpload(input) {
            if (input.files && input.files[0]) {
                const reader = new FileReader();
                reader.onload = function (e) {
                    // Show User Image
                    addImageMessage(e.target.result, 'user');
                    
                    // Start Smart Scan Simulation
                    const scanBarContainer = document.getElementById('ai-scan-bar');
                    const scanProgress = document.getElementById('ai-scan-progress');
                    scanBarContainer.classList.remove('hidden');
                    scanProgress.style.width = '0%';
                    
                    addMessage("<i class='fas fa-crosshairs text-techBlue animate-spin-slow'></i> AI Vision මගින් දෝෂය පරීක්ෂා කරමින් පවතී...", 'bot', true);
                    
                    // Animate Progress Bar
                    let progress = 0;
                    const interval = setInterval(() => {
                        progress += 10;
                        scanProgress.style.width = progress + '%';
                        if(progress >= 100) {
                            clearInterval(interval);
                            setTimeout(() => {
                                scanBarContainer.classList.add('hidden');
                                const tempMsg = document.getElementById('temp-scan-msg');
                                if(tempMsg) tempMsg.remove();
                                provideImageSolution();
                            }, 500);
                        }
                    }, 150);
                };
                reader.readAsDataURL(input.files[0]);
            }
            input.value = '';
        }

        function addMessage(html, sender, isTemp = false) {
            const div = document.createElement('div');
            div.className = `flex gap-2.5 ${sender === 'user' ? 'justify-end' : ''} animate-fade-in-up mt-2`;
            if(isTemp) div.id = 'temp-scan-msg';
            
            let content = '';
            if(sender === 'bot') {
                content = `
                    <div class="w-7 h-7 md:w-9 md:h-9 rounded-full bg-gradient-to-br from-techBlue to-techPurple flex items-center justify-center text-black text-[10px] md:text-xs font-bold flex-shrink-0 shadow-[0_0_10px_rgba(0,242,255,0.3)] mt-1"><i class="fas fa-robot"></i></div>
                    <div class="bg-[#1a1a1a] border border-white/10 p-3 md:p-4 rounded-2xl rounded-tl-sm text-xs md:text-sm text-gray-200 max-w-[85%] shadow-xl leading-relaxed">
                        ${html}
                    </div>
                `;
            } else {
                content = `
                    <div class="bg-gradient-to-r from-gray-800 to-gray-700 border border-gray-600 p-2.5 md:p-3 rounded-2xl rounded-tr-sm text-xs md:text-sm text-white max-w-[85%] shadow-lg">
                        ${html}
                    </div>
                `;
            }
            
            div.innerHTML = content;
            chatMessages.appendChild(div);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }

        function addImageMessage(imgSrc, sender) {
            const div = document.createElement('div');
            div.className = `flex gap-2 ${sender === 'user' ? 'justify-end' : ''} animate-fade-in-up mt-2`;
            
            const content = `
                <div class="bg-gray-800 border border-gray-600 p-1.5 rounded-2xl rounded-tr-sm text-xs md:text-sm text-white max-w-[80%] shadow-lg">
                    <img src="${imgSrc}" class="rounded-xl max-h-32 md:max-h-48 object-cover">
                </div>
            `;
            
            div.innerHTML = content;
            chatMessages.appendChild(div);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }

        let thinkingDiv = null;
        function addThinkingMessage() {
            thinkingDiv = document.createElement('div');
            thinkingDiv.className = `flex gap-2.5 animate-fade-in-up mt-2`;
            thinkingDiv.innerHTML = `
                <div class="w-7 h-7 md:w-9 md:h-9 rounded-full bg-gradient-to-br from-techBlue to-techPurple flex items-center justify-center text-black text-[10px] md:text-xs font-bold flex-shrink-0 mt-1"><i class="fas fa-robot"></i></div>
                <div class="bg-[#1a1a1a] border border-white/10 p-3 md:p-4 rounded-2xl rounded-tl-sm flex items-center shadow-lg">
                    <div class="typing-indicator">
                        <div class="typing-dot"></div>
                        <div class="typing-dot"></div>
                        <div class="typing-dot"></div>
                    </div>
                </div>
            `;
            chatMessages.appendChild(thinkingDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }

        function removeThinkingMessage() {
            if(thinkingDiv) {
                thinkingDiv.remove();
                thinkingDiv = null;
            }
        }

        function provideImageSolution() {
            const solutionHTML = `
                <div class="space-y-2">
                    <p class="font-bold text-techBlue text-sm flex items-center gap-2"><i class="fas fa-microchip text-lg"></i> AI Analysis Complete</p>
                    <p class="text-xs md:text-sm text-gray-300">මම ඔයාගේ Screenshot එක විශ්ලේෂණය කළා. මෙය බොහෝදුරට <strong>System Driver හෝ Display Adapter</strong> දෝෂයක්. පහත පියවර අනුගමනය කරන්න:</p>
                    
                    <div class="bg-[#050505] p-3 rounded-lg border border-gray-700 font-mono text-[10px] md:text-xs text-green-400 mt-2 shadow-inner">
                        <p class="text-gray-500 mb-1">// 1. Graphic Drivers Restart කිරීම</p>
                        <p class="text-techBlue">> Press: Win + Ctrl + Shift + B</p>
                        <br>
                        <p class="text-gray-500 mb-1">// 2. System Corruptions සෑදීම</p>
                        <p>> Open CMD (Run as Administrator)</p>
                        <p>> Type: <span class="text-white">sfc /scannow</span></p>
                    </div>

                    <p class="text-[10px] md:text-[11px] mt-2 text-gray-400 border-l-2 border-techPink pl-2">මෙයින් ගැටළුව විසඳුණේ නැතිනම්, එය Hardware දෝෂයක් විය හැක (උදා: RAM හෝ GPU Failure).</p>
                    
                    <div class="mt-3 text-center">
                        <button onclick="document.getElementById('contact').scrollIntoView(); toggleChat();" class="chat-action-btn w-full justify-center border-techPurple text-techPurple hover:bg-techPurple hover:text-white">
                            <i class="fas fa-headset"></i> වැඩිදුර සහාය සඳහා Tiran අමතන්න
                        </button>
                    </div>
                </div>
            `;
            addMessage(solutionHTML, 'bot');
        }

        // --- FUN ZONE LOGIC (Tech Facts) ---
        // Amtaña anatawi qalltaña (Memory game)
        const techFacts = [
            "පළමු පරිගණක මූසිකය (Mouse) 1964 දී Doug Engelbart විසින් ලී වලින් නිපදවා ඇත.",
            "ලොව පළමු වෙබ් අඩවිය 1991 අගෝස්තු 6 වන දින අන්තර්ජාලයට එක් විය.",
            "දිනකට හැකර්වරුන් විසින් ලොව පුරා වෙබ් අඩවි 30,000 කට වඩා හැක් කරනු ලබයි.",
            "ලොව පළමු Hard Disk එක 1956 දී IBM විසින් නිපදවූ අතර එහි ධාරිතාවය 5MB පමණි! බර ටොන් එකකට ආසන්න විය.",
            "බොහෝ දෙනා නොදන්නවා වුණත්, 'Android' යනු Linux මත පදනම් වූ මෙහෙයුම් පද්ධතියකි.",
            "දිනකට ඊමේල් බිලියන 300 කට වඩා යවන අතර ඉන් 80% ක් පමණ Spam ඊමේල් වේ.",
            "QWERTY කීබෝඩ් එක නිර්මාණය කළේ යතුරු ලියන යන්ත්‍ර (Typewriters) වල යතුරු හිරවීම වැළැක්වීම සඳහා අකුරු ඈත් කර තැබීමටයි.",
            "NASA ආයතනයේ පළමු අභ්‍යවකාශ යානාව (Apollo 11) ගමන් කළ පරිගණකයට වඩා අද ඔබගේ ස්මාර්ට් ජංගම දුරකථනය මිලියන ගුණයක් ප්‍රබලයි."
        ];

        function generateFact() {
            const display = document.getElementById('fact-display');
            display.style.opacity = '0';
            setTimeout(() => {
                const randomFact = techFacts[Math.floor(Math.random() * techFacts.length)];
                display.innerText = '"' + randomFact + '"';
                display.style.opacity = '1';
            }, 300);
        }

        // --- FUN ZONE LOGIC (Mini Quiz) ---
        const quizQuestions = [
            { q: "පරිගණකයක තාවකාලික මතකය (Short-term memory) ලෙස හඳුන්වන්නේ කුමක්ද?", options: ["Hard Disk", "RAM", "Processor", "Motherboard"], answer: 1 },
            { q: "URL යන්නෙහි දිගු නම කුමක්ද?", options: ["Uniform Resource Locator", "Universal Reference Link", "Unified Resource Line", "Ultra Reliable Link"], answer: 0 },
            { q: "Wi-Fi තාක්ෂණයට එම නම ලැබුණේ කොහෙන්ද?", options: ["Wireless Fidelity", "Wireless Fire", "එහි තේරුමක් නැත, එය Brand නමකි", "Wide Field"], answer: 2 },
            { q: "ලෝකයේ පළමු Computer Virus එකේ නම කුමක්ද?", options: ["Trojan", "Creeper", "ILOVEYOU", "Melissa"], answer: 1 },
            { q: "Hard Disk එකකට වඩා SSD එකක් වේගවත් වීමට ප්‍රධාන හේතුව කුමක්ද?", options: ["වයර් අඩු වීම", "ප්‍රමාණයෙන් කුඩා වීම", "යාන්ත්‍රිකව කැරකෙන කොටස් නොමැති වීම", "මිල වැඩි වීම"], answer: 2 }
        ];

        let currentQuestion = 0;
        let score = 0;

        function startQuiz() {
            currentQuestion = 0;
            score = 0;
            document.getElementById('quiz-intro').classList.add('hidden');
            document.getElementById('quiz-result').classList.add('hidden');
            document.getElementById('quiz-score-badge').classList.remove('hidden');
            document.getElementById('quiz-score-badge').innerText = 'Score: 0';
            document.getElementById('quiz-area').classList.remove('hidden');
            showQuestion();
        }

        function showQuestion() {
            const qData = quizQuestions[currentQuestion];
            document.getElementById('quiz-question').innerText = (currentQuestion + 1) + ". " + qData.q;
            
            const optionsDiv = document.getElementById('quiz-options');
            optionsDiv.innerHTML = '';
            
            qData.options.forEach((opt, index) => {
                const btn = document.createElement('button');
                btn.className = 'w-full text-left bg-white/5 hover:bg-techBlue/10 border border-white/10 hover:border-techBlue text-gray-300 hover:text-white px-4 py-3 rounded-xl transition-all';
                btn.innerText = opt;
                btn.onclick = () => checkAnswer(index, btn);
                optionsDiv.appendChild(btn);
            });
        }

        function checkAnswer(selectedIndex, btnElement) {
            const correctIndex = quizQuestions[currentQuestion].answer;
            const allBtns = document.getElementById('quiz-options').children;
            
            // Disable all buttons
            for(let btn of allBtns) {
                btn.onclick = null;
                btn.classList.add('opacity-50', 'cursor-not-allowed');
            }

            if(selectedIndex === correctIndex) {
                btnElement.classList.replace('bg-white/5', 'bg-green-500/20');
                btnElement.classList.replace('border-white/10', 'border-green-500');
                btnElement.classList.add('text-green-400');
                score++;
                document.getElementById('quiz-score-badge').innerText = 'Score: ' + score;
            } else {
                btnElement.classList.replace('bg-white/5', 'bg-red-500/20');
                btnElement.classList.replace('border-white/10', 'border-red-500');
                btnElement.classList.add('text-red-400');
                
                // Highlight correct
                allBtns[correctIndex].classList.replace('bg-white/5', 'bg-green-500/20');
                allBtns[correctIndex].classList.replace('border-white/10', 'border-green-500');
            }

            setTimeout(() => {
                currentQuestion++;
                if(currentQuestion < quizQuestions.length) {
                    showQuestion();
                } else {
                    showQuizResult();
                }
            }, 1500);
        }

        function showQuizResult() {
            document.getElementById('quiz-area').classList.add('hidden');
            document.getElementById('quiz-score-badge').classList.add('hidden');
            const resultDiv = document.getElementById('quiz-result');
            resultDiv.classList.remove('hidden');
            
            document.getElementById('quiz-result-text').innerText = 'You scored ' + score + ' out of ' + quizQuestions.length + '!';
            
            const icon = document.getElementById('quiz-icon');
            const title = document.getElementById('quiz-result-title');
            
            if(score === quizQuestions.length) {
                icon.className = 'fas fa-crown text-5xl text-yellow-400 mb-4';
                title.innerText = 'Tech Genius! 👑';
            } else if(score >= quizQuestions.length / 2) {
                icon.className = 'fas fa-medal text-5xl text-techBlue mb-4';
                title.innerText = 'Good Job! 👍';
            } else {
                icon.className = 'fas fa-book-reader text-5xl text-gray-400 mb-4';
                title.innerText = 'Keep Learning! 📚';
            }
        }

        // --- FUN ZONE: HEX COLOR GUESSER ---
        let hexScore = 0;

        function getRandomHex() {
            return '#' + Math.floor(Math.random()*16777215).toString(16).padStart(6, '0');
        }

        function initHexGame() {
            const correctHex = getRandomHex();
            const wrongHex1 = getRandomHex();
            const wrongHex2 = getRandomHex();
            
            document.getElementById('hex-color-box').style.backgroundColor = correctHex;
            
            const options = [correctHex, wrongHex1, wrongHex2].sort(() => 0.5 - Math.random());
            const optionsDiv = document.getElementById('hex-options');
            optionsDiv.innerHTML = '';
            
            options.forEach(hex => {
                const btn = document.createElement('button');
                btn.className = 'w-full text-center bg-white/5 hover:bg-pink-500/20 border border-white/10 hover:border-pink-500 text-gray-300 hover:text-white px-4 py-2 rounded-xl transition-all font-mono';
                btn.innerText = hex.toUpperCase();
                btn.onclick = () => checkHexAnswer(hex === correctHex, btn);
                optionsDiv.appendChild(btn);
            });
        }

        function checkHexAnswer(isCorrect, btnElement) {
            const allBtns = document.getElementById('hex-options').children;
            for(let btn of allBtns) {
                btn.onclick = null;
                btn.classList.add('opacity-50', 'cursor-not-allowed');
            }

            if(isCorrect) {
                btnElement.classList.replace('bg-white/5', 'bg-green-500/20');
                btnElement.classList.replace('border-white/10', 'border-green-500');
                btnElement.classList.add('text-green-400');
                hexScore++;
                document.getElementById('hex-score').innerText = hexScore;
            } else {
                btnElement.classList.replace('bg-white/5', 'bg-red-500/20');
                btnElement.classList.replace('border-white/10', 'border-red-500');
                btnElement.classList.add('text-red-400');
                hexScore = 0; // Reset score on wrong answer
                document.getElementById('hex-score').innerText = hexScore;
            }

            setTimeout(initHexGame, 1000);
        }

        // --- FUN ZONE: SQUASH THE BUG ---
        let bugScore = 0;
        let bugTime = 15;
        let bugTimer = null;
        let bugMover = null;

        function startBugGame() {
            bugScore = 0;
            bugTime = 15;
            document.getElementById('bug-score').innerText = bugScore;
            document.getElementById('bug-time').innerText = bugTime + 's';
            document.getElementById('bug-start-screen').classList.add('hidden');
            
            const bug = document.getElementById('the-bug');
            bug.classList.remove('hidden');
            
            moveBug();
            
            bugTimer = setInterval(() => {
                bugTime--;
                document.getElementById('bug-time').innerText = bugTime + 's';
                if(bugTime <= 0) {
                    endBugGame();
                }
            }, 1000);
            
            bugMover = setInterval(moveBug, 800);
        }

        function moveBug() {
            const container = document.getElementById('bug-container');
            const bug = document.getElementById('the-bug');
            
            const maxX = container.clientWidth - 30; // Bug width approx 30
            const maxY = container.clientHeight - 30; // Bug height approx 30
            
            const randomX = Math.floor(Math.random() * maxX);
            const randomY = Math.floor(Math.random() * maxY);
            const randomRot = Math.floor(Math.random() * 360);
            
            bug.style.left = randomX + 'px';
            bug.style.top = randomY + 'px';
            bug.style.transform = `rotate(${randomRot}deg)`;
        }

        function catchBug() {
            bugScore++;
            document.getElementById('bug-score').innerText = bugScore;
            
            const bug = document.getElementById('the-bug');
            bug.classList.remove('text-red-500');
            bug.classList.add('text-green-500', 'scale-150');
            
            // Fast move after catch
            clearInterval(bugMover);
            setTimeout(() => {
                bug.classList.remove('text-green-500', 'scale-150');
                bug.classList.add('text-red-500');
                moveBug();
                bugMover = setInterval(moveBug, Math.max(400, 800 - (bugScore * 20))); // Gets faster!
            }, 200);
        }

        function endBugGame() {
            clearInterval(bugTimer);
            clearInterval(bugMover);
            const bug = document.getElementById('the-bug');
            bug.classList.add('hidden');
            
            const startScreen = document.getElementById('bug-start-screen');
            startScreen.classList.remove('hidden');
            startScreen.innerHTML = `
                <div class="text-center">
                    <p class="text-white mb-2">Time's Up!</p>
                    <p class="text-red-500 font-bold text-xl mb-4">Score: ${bugScore}</p>
                    <button onclick="startBugGame()" class="bg-white/20 hover:bg-white/30 text-white font-bold py-2 px-6 rounded-full transition-colors"><i class="fas fa-redo mr-2"></i> Play Again</button>
                </div>
            `;
        }

        // --- FUN ZONE: MEMORY MATCH ---
        const memoryIconsList = ['fa-html5', 'fa-css3-alt', 'fa-js', 'fa-react', 'fa-python', 'fa-windows', 'fa-android', 'fa-apple'];
        let memoryBoard = document.getElementById('memory-board');
        let flippedCards = [];
        let matchedPairs = 0;

        function initMemoryGame() {
            if(!memoryBoard) return;
            memoryBoard.innerHTML = '';
            document.getElementById('memory-win-msg').classList.add('hidden');
            flippedCards = [];
            matchedPairs = 0;
            
            let shuffledIcons = [...memoryIconsList].sort(() => 0.5 - Math.random()).slice(0, 4);
            let gameDeck = [...shuffledIcons, ...shuffledIcons].sort(() => 0.5 - Math.random());
            
            gameDeck.forEach((icon, index) => {
                let card = document.createElement('div');
                card.className = 'memory-card text-white';
                card.dataset.icon = icon;
                card.innerHTML = `<i class="fab ${icon}"></i>`;
                card.onclick = () => flipCard(card);
                memoryBoard.appendChild(card);
            });
        }

        function flipCard(card) {
            if (flippedCards.length < 2 && !card.classList.contains('flipped') && !card.classList.contains('matched')) {
                card.classList.add('flipped');
                flippedCards.push(card);
                
                if (flippedCards.length === 2) {
                    setTimeout(checkMatch, 500);
                }
            }
        }

        function checkMatch() {
            const [card1, card2] = flippedCards;
            if (card1.dataset.icon === card2.dataset.icon) {
                card1.classList.replace('flipped', 'matched');
                card2.classList.replace('flipped', 'matched');
                matchedPairs++;
                if(matchedPairs === 4) {
                    document.getElementById('memory-win-msg').classList.remove('hidden');
                }
            } else {
                card1.classList.remove('flipped');
                card2.classList.remove('flipped');
            }
            flippedCards = [];
        }

        // --- FUN ZONE: TYPING SPEED TEST ---
        // Qillqaña yant'a (Typing Test)
        const typingQuotes = [
            'npm install react-dom',
            'git commit -m "Update"',
            'sudo rm -rf /',
            'console.log("Hello!");',
            'while(alive) { code(); }'
        ];
        let typingTimer = null;
        let typingStartTime = null;
        let currentQuote = "";

        function initTyping() {
            currentQuote = typingQuotes[Math.floor(Math.random() * typingQuotes.length)];
            document.getElementById('typing-quote').innerText = currentQuote;
            document.getElementById('typing-input').value = '';
            document.getElementById('typing-input').disabled = false;
            document.getElementById('typing-time').innerText = '0.0s';
            document.getElementById('typing-wpm').innerText = '0';
            clearInterval(typingTimer);
            typingStartTime = null;
        }

        function checkTyping() {
            const input = document.getElementById('typing-input').value;
            
            if (!typingStartTime && input.length > 0) {
                typingStartTime = new Date().getTime();
                typingTimer = setInterval(() => {
                    const timeNow = new Date().getTime();
                    const timeDiff = ((timeNow - typingStartTime) / 1000).toFixed(1);
                    document.getElementById('typing-time').innerText = timeDiff + 's';
                }, 100);
            }

            if (input === currentQuote) {
                clearInterval(typingTimer);
                document.getElementById('typing-input').disabled = true;
                
                const timeTaken = (new Date().getTime() - typingStartTime) / 1000 / 60; // in minutes
                const wordsCount = currentQuote.length / 5; // standard WPM calculation
                const wpm = Math.round(wordsCount / timeTaken);
                document.getElementById('typing-wpm').innerText = wpm;
                
                setTimeout(initTyping, 3000); // Reset after 3 seconds
            }
        }

        document.addEventListener('DOMContentLoaded', () => {
            typeEffect();
            initMemoryGame();
            initTyping();
            initHexGame();
        });

    </script>
</body>
</html>
